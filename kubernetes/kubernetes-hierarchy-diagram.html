<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Иерархия сущностей Kubernetes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .diagram-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow-x: auto;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        <h1>Иерархия сущностей Kubernetes</h1>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #326CE5;"></div>
                <span>Кластер</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #DC2626;"></div>
                <span>Control Plane</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #059669;"></div>
                <span>Worker Nodes</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #7C3AED;"></div>
                <span>Namespaces</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #F59E0B;"></div>
                <span>Workloads</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #EC4899;"></div>
                <span>Pods</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #10B981;"></div>
                <span>Services</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #6366F1;"></div>
                <span>Storage</span>
            </div>
        </div>

        <svg width="1200" height="800" viewBox="0 0 1200 800">
            <defs>
                <style>
                    .cluster { fill: #326CE5; stroke: #1E3A8A; stroke-width: 2; }
                    .master { fill: #DC2626; stroke: #B91C1C; stroke-width: 2; }
                    .worker { fill: #059669; stroke: #047857; stroke-width: 2; }
                    .namespace { fill: #7C3AED; stroke: #5B21B6; stroke-width: 2; }
                    .workload { fill: #F59E0B; stroke: #D97706; stroke-width: 2; }
                    .pod { fill: #EC4899; stroke: #DB2777; stroke-width: 2; }
                    .service { fill: #10B981; stroke: #059669; stroke-width: 2; }
                    .storage { fill: #6366F1; stroke: #4F46E5; stroke-width: 2; }
                    .config { fill: #8B5CF6; stroke: #7C3AED; stroke-width: 2; }
                    
                    .title { font: bold 14px Arial; fill: white; text-anchor: middle; dominant-baseline: central; }
                    .subtitle { font: bold 11px Arial; fill: white; text-anchor: middle; dominant-baseline: central; }
                    .label { font: 9px Arial; fill: white; text-anchor: middle; dominant-baseline: central; }
                    
                    .connection { stroke: #6B7280; stroke-width: 1; fill: none; }
                </style>
            </defs>
            
            <!-- Main Cluster -->
            <rect x="50" y="50" width="1100" height="700" class="cluster" rx="10"/>
            <text x="600" y="80" class="title">Kubernetes Cluster</text>
            
            <!-- Control Plane -->
            <rect x="80" y="110" width="260" height="280" class="master" rx="8"/>
            <text x="210" y="135" class="subtitle">Control Plane</text>
            
            <!-- Control Plane Components -->
            <rect x="100" y="160" width="100" height="25" class="master" rx="3"/>
            <text x="150" y="172" class="label">API Server</text>
            
            <rect x="220" y="160" width="100" height="25" class="master" rx="3"/>
            <text x="270" y="172" class="label">etcd</text>
            
            <rect x="100" y="200" width="100" height="25" class="master" rx="3"/>
            <text x="150" y="212" class="label">Scheduler</text>
            
            <rect x="220" y="200" width="100" height="25" class="master" rx="3"/>
            <text x="270" y="212" class="label">Controller Mgr</text>
            
            <rect x="100" y="240" width="220" height="25" class="master" rx="3"/>
            <text x="210" y="252" class="label">Cloud Controller Manager</text>
            
            <rect x="100" y="280" width="100" height="25" class="master" rx="3"/>
            <text x="150" y="292" class="label">CoreDNS</text>
            
            <rect x="220" y="280" width="100" height="25" class="master" rx="3"/>
            <text x="270" y="292" class="label">Dashboard</text>
            
            <rect x="100" y="320" width="220" height="25" class="master" rx="3"/>
            <text x="210" y="332" class="label">Ingress Controller</text>
            
            <!-- Worker Nodes -->
            <rect x="360" y="110" width="260" height="280" class="worker" rx="8"/>
            <text x="490" y="135" class="subtitle">Worker Node</text>
            
            <!-- Worker Components -->
            <rect x="380" y="160" width="80" height="25" class="worker" rx="3"/>
            <text x="420" y="172" class="label">kubelet</text>
            
            <rect x="480" y="160" width="80" height="25" class="worker" rx="3"/>
            <text x="520" y="172" class="label">kube-proxy</text>
            
            <rect x="380" y="200" width="180" height="25" class="worker" rx="3"/>
            <text x="470" y="212" class="label">Container Runtime</text>
            
            <!-- Pods in Worker -->
            <rect x="380" y="240" width="80" height="60" class="pod" rx="5"/>
            <text x="420" y="260" class="label">Pod 1</text>
            <rect x="390" y="275" width="60" height="15" class="pod" rx="2"/>
            <text x="420" y="282" style="font: 7px Arial; fill: white; text-anchor: middle;">Container</text>
            
            <rect x="480" y="240" width="80" height="60" class="pod" rx="5"/>
            <text x="520" y="260" class="label">Pod 2</text>
            <rect x="490" y="275" width="60" height="15" class="pod" rx="2"/>
            <text x="520" y="282" style="font: 7px Arial; fill: white; text-anchor: middle;">Container</text>
            
            <!-- Namespaces -->
            <rect x="640" y="110" width="200" height="180" class="namespace" rx="8"/>
            <text x="740" y="135" class="subtitle">Namespaces</text>
            
            <rect x="660" y="160" width="80" height="25" class="namespace" rx="3"/>
            <text x="700" y="172" class="label">default</text>
            
            <rect x="760" y="160" width="80" height="25" class="namespace" rx="3"/>
            <text x="800" y="172" class="label">kube-system</text>
            
            <rect x="660" y="200" width="80" height="25" class="namespace" rx="3"/>
            <text x="700" y="212" class="label">kube-public</text>
            
            <rect x="760" y="200" width="80" height="25" class="namespace" rx="3"/>
            <text x="800" y="212" class="label">custom-ns</text>
            
            <!-- Workload Resources -->
            <rect x="860" y="110" width="200" height="280" class="workload" rx="8"/>
            <text x="960" y="135" class="subtitle">Workload Resources</text>
            
            <rect x="880" y="160" width="80" height="25" class="workload" rx="3"/>
            <text x="920" y="172" class="label">Deployment</text>
            
            <rect x="980" y="160" width="80" height="25" class="workload" rx="3"/>
            <text x="1020" y="172" class="label">StatefulSet</text>
            
            <rect x="880" y="200" width="80" height="25" class="workload" rx="3"/>
            <text x="920" y="212" class="label">DaemonSet</text>
            
            <rect x="980" y="200" width="80" height="25" class="workload" rx="3"/>
            <text x="1020" y="212" class="label">ReplicaSet</text>
            
            <rect x="880" y="240" width="80" height="25" class="workload" rx="3"/>
            <text x="920" y="252" class="label">Job</text>
            
            <rect x="980" y="240" width="80" height="25" class="workload" rx="3"/>
            <text x="1020" y="252" class="label">CronJob</text>
            
            <!-- Services -->
            <rect x="80" y="420" width="260" height="150" class="service" rx="8"/>
            <text x="210" y="445" class="subtitle">Network Services</text>
            
            <rect x="100" y="470" width="80" height="25" class="service" rx="3"/>
            <text x="140" y="482" class="label">ClusterIP</text>
            
            <rect x="200" y="470" width="80" height="25" class="service" rx="3"/>
            <text x="240" y="482" class="label">NodePort</text>
            
            <rect x="100" y="510" width="80" height="25" class="service" rx="3"/>
            <text x="140" y="522" class="label">LoadBalancer</text>
            
            <rect x="200" y="510" width="80" height="25" class="service" rx="3"/>
            <text x="240" y="522" class="label">Ingress</text>
            
            <!-- Storage -->
            <rect x="360" y="420" width="260" height="150" class="storage" rx="8"/>
            <text x="490" y="445" class="subtitle">Storage Resources</text>
            
            <rect x="380" y="470" width="100" height="25" class="storage" rx="3"/>
            <text x="430" y="482" class="label">Persistent Volume</text>
            
            <rect x="500" y="470" width="100" height="25" class="storage" rx="3"/>
            <text x="550" y="482" class="label">Storage Class</text>
            
            <rect x="380" y="510" width="100" height="25" class="storage" rx="3"/>
            <text x="430" y="522" class="label">Volume Claim</text>
            
            <rect x="500" y="510" width="100" height="25" class="storage" rx="3"/>
            <text x="550" y="522" class="label">ConfigMap Vol</text>
            
            <!-- Configuration -->
            <rect x="640" y="420" width="200" height="150" class="config" rx="8"/>
            <text x="740" y="445" class="subtitle">Configuration</text>
            
            <rect x="660" y="470" width="80" height="25" class="config" rx="3"/>
            <text x="700" y="482" class="label">ConfigMap</text>
            
            <rect x="760" y="470" width="80" height="25" class="config" rx="3"/>
            <text x="800" y="482" class="label">Secret</text>
            
            <rect x="660" y="510" width="80" height="25" class="config" rx="3"/>
            <text x="700" y="522" class="label">Labels</text>
            
            <rect x="760" y="510" width="80" height="25" class="config" rx="3"/>
            <text x="800" y="522" class="label">Annotations</text>
            
            <!-- Security & RBAC -->
            <rect x="860" y="420" width="200" height="150" style="fill: #F97316; stroke: #EA580C; stroke-width: 2;" rx="8"/>
            <text x="960" y="445" class="subtitle">Security & RBAC</text>
            
            <rect x="880" y="470" width="80" height="25" style="fill: #F97316; stroke: #EA580C; stroke-width: 2;" rx="3"/>
            <text x="920" y="482" class="label">Role</text>
            
            <rect x="980" y="470" width="80" height="25" style="fill: #F97316; stroke: #EA580C; stroke-width: 2;" rx="3"/>
            <text x="1020" y="482" class="label">ClusterRole</text>
            
            <rect x="880" y="510" width="80" height="25" style="fill: #F97316; stroke: #EA580C; stroke-width: 2;" rx="3"/>
            <text x="920" y="522" class="label">RoleBinding</text>
            
            <rect x="980" y="510" width="80" height="25" style="fill: #F97316; stroke: #EA580C; stroke-width: 2;" rx="3"/>
            <text x="1020" y="522" class="label">ServiceAccount</text>
            
             <!-- Autoscaling -->
            <rect x="80" y="600" width="260" height="120" style="fill: #06B6D4; stroke: #0891B2; stroke-width: 2;" rx="8"/>
            <text x="210" y="625" class="subtitle">Autoscaling</text>
            
            <rect x="100" y="650" width="80" height="25" style="fill: #06B6D4; stroke: #0891B2; stroke-width: 2;" rx="3"/>
            <text x="140" y="662" class="label">HPA</text>
            
            <rect x="200" y="650" width="80" height="25" style="fill: #06B6D4; stroke: #0891B2; stroke-width: 2;" rx="3"/>
            <text x="240" y="662" class="label">VPA</text>
            
            <rect x="100" y="690" width="180" height="25" style="fill: #06B6D4; stroke: #0891B2; stroke-width: 2;" rx="3"/>
            <text x="190" y="702" class="label">Cluster Autoscaler</text>
            
            <!-- Custom Resources -->
            <rect x="360" y="600" width="260" height="120" style="fill: #A855F7; stroke: #9333EA; stroke-width: 2;" rx="8"/>
            <text x="490" y="625" class="subtitle">Custom Resources</text>
            
            <rect x="380" y="650" width="100" height="25" style="fill: #A855F7; stroke: #9333EA; stroke-width: 2;" rx="3"/>
            <text x="430" y="662" class="label">CRD</text>
            
            <rect x="500" y="650" width="100" height="25" style="fill: #A855F7; stroke: #9333EA; stroke-width: 2;" rx="3"/>
            <text x="550" y="662" class="label">Operators</text>
            
            <rect x="380" y="690" width="220" height="25" style="fill: #A855F7; stroke: #9333EA; stroke-width: 2;" rx="3"/>
            <text x="490" y="702" class="label">Custom Controllers</text>
            
            <!-- Connections -->
            <line x1="340" y1="250" x2="360" y2="250" class="connection"/>
            <line x1="620" y1="250" x2="640" y2="200" class="connection"/>
            <line x1="840" y1="200" x2="860" y2="250" class="connection"/>
            <line x1="490" y1="300" x2="490" y2="420" class="connection"/>
            <line x1="210" y1="390" x2="210" y2="420" class="connection"/>
            
            <!-- Hierarchy arrows -->
            <polygon points="600,100 605,110 595,110" fill="#1F2937"/>
            <text x="600" y="95" style="font: 8px Arial; fill: #1F2937; text-anchor: middle;">Управляет</text>
        </svg>
    </div>
</body>
</html>
