# 000. –ö–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å kubectl

## üéØ **–ö–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å kubectl**

**kubectl** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–æ–º. –ó–Ω–∞–Ω–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ—Ö–Ω–∏–∫ –∏ –∫–æ–º–∞–Ω–¥ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã.

## üõ†Ô∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥:**

### **1. Resource Management:**
- **get** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ—Å—É—Ä—Å–∞—Ö
- **describe** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **create/apply** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **delete** - —É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### **2. Debugging & Troubleshooting:**
- **logs** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- **exec** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- **port-forward** - –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤
- **top** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

### **3. Advanced Operations:**
- **patch** - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **scale** - –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **rollout** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è–º–∏


![alt text](image.png)


01-–û—Å–Ω–æ–≤—ã Kubernetes —Å–¥–µ–ª–∞—Ç—å —Å—Å—ã–ª–∫—É 

# 3. –ö–∞–∫–æ–≤—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Kubernetes?

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Kubernetes**

Kubernetes —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **Control Plane** (–ø–ª–æ—Å–∫–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è) –∏ **Worker Nodes** (—Ä–∞–±–æ—á–∏–µ —É–∑–ª—ã).

## ‚öôÔ∏è **Control Plane (–ü–ª–æ—Å–∫–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)**

### **1. API Server (kube-apiserver)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–º
- **–§—É–Ω–∫—Ü–∏–∏**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç REST API –∑–∞–ø—Ä–æ—Å—ã, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### **2. etcd**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
- **–§—É–Ω–∫—Ü–∏–∏**: –•—Ä–∞–Ω–∏—Ç –≤—Å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞

### **3. Controller Manager (kube-controller-manager)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
- **–§—É–Ω–∫—Ü–∏–∏**: –°–ª–µ–¥–∏—Ç –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∏—Ö –∫ –∂–µ–ª–∞–µ–º–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

### **4. Scheduler (kube-scheduler)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–æ–¥–æ–≤
- **–§—É–Ω–∫—Ü–∏–∏**: –†–µ—à–∞–µ—Ç, –Ω–∞ –∫–∞–∫–æ–π –Ω–æ–¥–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–¥

## üîß **Worker Nodes (–†–∞–±–æ—á–∏–µ —É–∑–ª—ã)**

### **1. kubelet**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–≥–µ–Ω—Ç –Ω–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ
- **–§—É–Ω–∫—Ü–∏–∏**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –Ω–∞ –Ω–æ–¥–µ

### **2. kube-proxy**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–µ—Ç–µ–≤–æ–π –ø—Ä–æ–∫—Å–∏
- **–§—É–Ω–∫—Ü–∏–∏**: –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É –Ω–∞–≥—Ä—É–∑–∫–∏

### **3. Container Runtime**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **–§—É–Ω–∫—Ü–∏–∏**: –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ (Docker, containerd, CRI-O)

# 4. –ß—Ç–æ —Ç–∞–∫–æ–µ Pod –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Pod?**

**Pod** ‚Äî —ç—Ç–æ –Ω–∞–∏–º–µ–Ω—å—à–∞—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ–º–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –≤ Kubernetes, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —Ä–∞–∑–¥–µ–ª—è—é—â–∏—Ö —Å–µ—Ç—å –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

## üèóÔ∏è **–ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Pod:**

### **1. –ê—Ç–æ–º–∞—Ä–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞**
- Pod —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ
- –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ Pod –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–¥–µ
- Pod –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ

### **2. –†–∞–∑–¥–µ–ª—è–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã**
- **–°–µ—Ç—å**: –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω IP –∏ –ø–æ—Ä—Ç—ã
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: Volumes –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∂–∏–≤—É—Ç –∏ —É–º–∏—Ä–∞—é—Ç –≤–º–µ—Å—Ç–µ

### **3. –≠—Ñ–µ–º–µ—Ä–Ω–æ—Å—Ç—å**
- Pod –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- IP –∞–¥—Ä–µ—Å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏
- –î–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ Pod —Ç–µ—Ä—è—é—Ç—Å—è (–µ—Å–ª–∏ –Ω–µ—Ç Persistent Volumes)

# 8. –ß—Ç–æ —Ç–∞–∫–æ–µ Labels –∏ Selectors –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Labels?**

**Labels (–ú–µ—Ç–∫–∏)** ‚Äî —ç—Ç–æ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –∫ Kubernetes –æ–±—ä–µ–∫—Ç–∞–º –¥–ª—è –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.

### **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Labels:**
- **–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ** –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
- **–ù–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ** (–º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ labels)
- **–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** –∏ –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤
- **–ú–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è** –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Selectors?**

**Selectors (–°–µ–ª–µ–∫—Ç–æ—Ä—ã)** ‚Äî —ç—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –∏—Ö labels.

### **–¢–∏–ø—ã Selectors:**
- **Equality-based**: `app=nginx`, `version!=v1`
- **Set-based**: `environment in (production, qa)`, `tier notin (frontend)`

**Labels –∏ Selectors ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Kubernetes!**

# 9. –ß—Ç–æ —Ç–∞–∫–æ–µ Namespace –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Namespace?**

**Namespace (–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω)** ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –æ–¥–Ω–æ–º —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ.

## üèóÔ∏è **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ Namespace:**

### **1. –ò–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
- –õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º–µ–Ω
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–∞–º/–ø—Ä–æ–µ–∫—Ç–∞–º

### **2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º**
- RBAC (Role-Based Access Control)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ namespace

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏**
- Resource Quotas (–ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤)
- Limit Ranges (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤)
- Network Policies (—Å–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è)

# 10. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É StatefulSet –∏ Deployment?

## üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

| –ê—Å–ø–µ–∫—Ç | Deployment | StatefulSet |
|--------|------------|-------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | Stateless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | Stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| **–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å Pod'–æ–≤** | –í–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–µ | –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å |
| **–ò–º–µ–Ω–∞ Pod'–æ–≤** | –°–ª—É—á–∞–π–Ω—ã–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã | –ü–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ |
| **–ü–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è** | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ |
| **–•—Ä–∞–Ω–∏–ª–∏—â–µ** | –û–±—â–∏–µ volumes | –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ PVC |
| **–°–µ—Ç–µ–≤–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å** | –ù–µ—Ç | –°—Ç–∞–±–∏–ª—å–Ω–∞—è |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è** | Rolling update | –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

## üì¶ **Deployment (–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)**

**Deployment** ‚Äî —ç—Ç–æ —Ä–µ—Å—É—Ä—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è stateless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏, –≥–¥–µ –≤—Å–µ Pod'—ã –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã.

### **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Deployment:**
- Pod'—ã **–∏–¥–µ–Ω—Ç–∏—á–Ω—ã** –∏ **–≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã**
- **–°–ª—É—á–∞–π–Ω—ã–µ –∏–º–µ–Ω–∞** Pod'–æ–≤
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ** —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
- **–û–±—â–∏–µ volumes** (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **web —Å–µ—Ä–≤–µ—Ä–æ–≤**, **API**, **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤**

## üóÑÔ∏è **StatefulSet (–°–æ—Å—Ç–æ—è–Ω–∏–µ)**

**StatefulSet** ‚Äî —ç—Ç–æ —Ä–µ—Å—É—Ä—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏, –≥–¥–µ –∫–∞–∂–¥—ã–π Pod –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å.

### **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ StatefulSet:**
- Pod'—ã –∏–º–µ—é—Ç **—É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å**
- **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏–º–µ–Ω–∞** Pod'–æ–≤ (app-0, app-1, app-2)
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ** —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ PVC** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Pod'–∞
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–±–∞–∑ –¥–∞–Ω–Ω—ã—Ö**, **–æ—á–µ—Ä–µ–¥–µ–π**, **–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**

02-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–ª–∞—Å—Ç–µ—Ä–∞ 


# 11. –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–æ–ª—å kube-apiserver –ø–æ–¥—Ä–æ–±–Ω–æ

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ kube-apiserver?**

**kube-apiserver** ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Control Plane, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ. –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å etcd.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ kube-apiserver:**

### **1. REST API Gateway**
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π REST API –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP/HTTPS –∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (JSON, YAML, Protobuf)

### **2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç RBAC –ø–æ–ª–∏—Ç–∏–∫–∏
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º

### **3. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –º—É—Ç–∞—Ü–∏—è**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç Admission Controllers
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### **4. –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å etcd
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤


# 12. –ß—Ç–æ —Ç–∞–∫–æ–µ etcd –∏ –ø–æ—á–µ–º—É –æ–Ω –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ etcd?**

**etcd** ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–∞—è —Å–ª—É–∂–∏—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã –¥–ª—è –≤—Å–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞. –≠—Ç–æ –≤—ã—Å–æ–∫–æ–¥–æ—Å—Ç—É–ø–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ –∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ Raft.

## üèóÔ∏è **–ü–æ—á–µ–º—É etcd –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è Kubernetes:**

### **1. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**
- –•—Ä–∞–Ω–∏—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### **2. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**
- ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- Strong consistency
- –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ Raft
- –ó–∞—â–∏—Ç–∞ –æ—Ç split-brain

### **3. High Availability**
- –ö–ª–∞—Å—Ç–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–æ–±—ã—á–Ω–æ 3-5 –Ω–æ–¥)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π failover
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Digital Ocean Cloud                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  etcd Cluster (Managed HA)                                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ etcd-1 (Zone A) - Leader/Follower                     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ etcd-2 (Zone B) - Leader/Follower                     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ etcd-3 (Zone C) - Leader/Follower                     ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Raft Consensus Algorithm                                   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Leader Election                                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Log Replication                                        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Strong Consistency                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  API Server Cluster (HA)                                   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ API Server 1 ‚Üí etcd Client                            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ API Server 2 ‚Üí etcd Client                            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ API Server 3 ‚Üí etcd Client                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Stored Data in etcd                                       ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ All Kubernetes Objects                                ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Pods, Deployments, Services                       ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ ConfigMaps, Secrets                               ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ RBAC, CRDs                                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Cluster State                                         ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Node Information                                  ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Resource Quotas                                   ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ Events (TTL)                                      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Application Data                                       ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ ArgoCD Applications                               ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Prometheus Configuration                          ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ Ingress Rules                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**etcd ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç Kubernetes. –ë–µ–∑ etcd –Ω–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä–∞!**

# 13. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Kubernetes Scheduler?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Kubernetes Scheduler?**

**kube-scheduler** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Control Plane, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ Pod'–æ–≤ –Ω–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö Node'–∞—Ö –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –æ —Ç–æ–º, –≥–¥–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∂–¥—ã–π Pod, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞—Ö, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö –∏ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Scheduler:**

### **1. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Pod'–æ–≤**
- –í—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é Node –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Pod'–∞
- –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã (CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
- –ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É

### **2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è Node'–æ–≤**
- –ò—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ Node'—ã
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤
- –£—á–∏—Ç—ã–≤–∞–µ—Ç taints –∏ tolerations
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç node selectors

### **3. –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ Node'–æ–≤**
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ Node'—ã
- –í—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤



