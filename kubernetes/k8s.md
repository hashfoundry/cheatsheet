# 000. –ö–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å kubectl

## üéØ **–ö–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å kubectl**

**kubectl** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–æ–º. –ó–Ω–∞–Ω–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ—Ö–Ω–∏–∫ –∏ –∫–æ–º–∞–Ω–¥ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã.

## üõ†Ô∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥:**

### **1. Resource Management:**
- **get** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ—Å—É—Ä—Å–∞—Ö
- **describe** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **create/apply** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **delete** - —É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### **2. Debugging & Troubleshooting:**
- **logs** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- **exec** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- **port-forward** - –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤
- **top** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

### **3. Advanced Operations:**
- **patch** - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **scale** - –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **rollout** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è–º–∏


![alt text](image.png)


01-–û—Å–Ω–æ–≤—ã Kubernetes —Å–¥–µ–ª–∞—Ç—å —Å—Å—ã–ª–∫—É 

# 3. –ö–∞–∫–æ–≤—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Kubernetes?

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Kubernetes**

Kubernetes —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **Control Plane** (–ø–ª–æ—Å–∫–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è) –∏ **Worker Nodes** (—Ä–∞–±–æ—á–∏–µ —É–∑–ª—ã).

## ‚öôÔ∏è **Control Plane (–ü–ª–æ—Å–∫–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)**

### **1. API Server (kube-apiserver)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–º
- **–§—É–Ω–∫—Ü–∏–∏**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç REST API –∑–∞–ø—Ä–æ—Å—ã, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### **2. etcd**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
- **–§—É–Ω–∫—Ü–∏–∏**: –•—Ä–∞–Ω–∏—Ç –≤—Å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞

### **3. Controller Manager (kube-controller-manager)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
- **–§—É–Ω–∫—Ü–∏–∏**: –°–ª–µ–¥–∏—Ç –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∏—Ö –∫ –∂–µ–ª–∞–µ–º–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

### **4. Scheduler (kube-scheduler)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–æ–¥–æ–≤
- **–§—É–Ω–∫—Ü–∏–∏**: –†–µ—à–∞–µ—Ç, –Ω–∞ –∫–∞–∫–æ–π –Ω–æ–¥–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–¥

## üîß **Worker Nodes (–†–∞–±–æ—á–∏–µ —É–∑–ª—ã)**

### **1. kubelet**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–≥–µ–Ω—Ç –Ω–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ
- **–§—É–Ω–∫—Ü–∏–∏**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –Ω–∞ –Ω–æ–¥–µ

### **2. kube-proxy**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–µ—Ç–µ–≤–æ–π –ø—Ä–æ–∫—Å–∏
- **–§—É–Ω–∫—Ü–∏–∏**: –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É –Ω–∞–≥—Ä—É–∑–∫–∏

### **3. Container Runtime**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **–§—É–Ω–∫—Ü–∏–∏**: –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ (Docker, containerd, CRI-O)

# 4. –ß—Ç–æ —Ç–∞–∫–æ–µ Pod –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Pod?**

**Pod** ‚Äî —ç—Ç–æ –Ω–∞–∏–º–µ–Ω—å—à–∞—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ–º–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –≤ Kubernetes, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —Ä–∞–∑–¥–µ–ª—è—é—â–∏—Ö —Å–µ—Ç—å –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

## üèóÔ∏è **–ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Pod:**

### **1. –ê—Ç–æ–º–∞—Ä–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞**
- Pod —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ
- –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ Pod –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–¥–µ
- Pod –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ

### **2. –†–∞–∑–¥–µ–ª—è–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã**
- **–°–µ—Ç—å**: –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω IP –∏ –ø–æ—Ä—Ç—ã
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: Volumes –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∂–∏–≤—É—Ç –∏ —É–º–∏—Ä–∞—é—Ç –≤–º–µ—Å—Ç–µ

### **3. –≠—Ñ–µ–º–µ—Ä–Ω–æ—Å—Ç—å**
- Pod –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- IP –∞–¥—Ä–µ—Å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏
- –î–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ Pod —Ç–µ—Ä—è—é—Ç—Å—è (–µ—Å–ª–∏ –Ω–µ—Ç Persistent Volumes)

# 8. –ß—Ç–æ —Ç–∞–∫–æ–µ Labels –∏ Selectors –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Labels?**

**Labels (–ú–µ—Ç–∫–∏)** ‚Äî —ç—Ç–æ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –∫ Kubernetes –æ–±—ä–µ–∫—Ç–∞–º –¥–ª—è –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.

### **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Labels:**
- **–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ** –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
- **–ù–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ** (–º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ labels)
- **–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** –∏ –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤
- **–ú–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è** –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Selectors?**

**Selectors (–°–µ–ª–µ–∫—Ç–æ—Ä—ã)** ‚Äî —ç—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –∏—Ö labels.

### **–¢–∏–ø—ã Selectors:**
- **Equality-based**: `app=nginx`, `version!=v1`
- **Set-based**: `environment in (production, qa)`, `tier notin (frontend)`

**Labels –∏ Selectors ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Kubernetes!**

# 9. –ß—Ç–æ —Ç–∞–∫–æ–µ Namespace –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Namespace?**

**Namespace (–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω)** ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –æ–¥–Ω–æ–º —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ.

## üèóÔ∏è **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ Namespace:**

### **1. –ò–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
- –õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º–µ–Ω
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–∞–º/–ø—Ä–æ–µ–∫—Ç–∞–º

### **2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º**
- RBAC (Role-Based Access Control)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ namespace

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏**
- Resource Quotas (–ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤)
- Limit Ranges (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤)
- Network Policies (—Å–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è)

# 10. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É StatefulSet –∏ Deployment?

## üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

| –ê—Å–ø–µ–∫—Ç | Deployment | StatefulSet |
|--------|------------|-------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | Stateless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | Stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| **–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å Pod'–æ–≤** | –í–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–µ | –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å |
| **–ò–º–µ–Ω–∞ Pod'–æ–≤** | –°–ª—É—á–∞–π–Ω—ã–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã | –ü–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ |
| **–ü–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è** | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ |
| **–•—Ä–∞–Ω–∏–ª–∏—â–µ** | –û–±—â–∏–µ volumes | –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ PVC |
| **–°–µ—Ç–µ–≤–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å** | –ù–µ—Ç | –°—Ç–∞–±–∏–ª—å–Ω–∞—è |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è** | Rolling update | –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

## üì¶ **Deployment (–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)**

**Deployment** ‚Äî —ç—Ç–æ —Ä–µ—Å—É—Ä—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è stateless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏, –≥–¥–µ –≤—Å–µ Pod'—ã –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã.

### **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Deployment:**
- Pod'—ã **–∏–¥–µ–Ω—Ç–∏—á–Ω—ã** –∏ **–≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã**
- **–°–ª—É—á–∞–π–Ω—ã–µ –∏–º–µ–Ω–∞** Pod'–æ–≤
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ** —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
- **–û–±—â–∏–µ volumes** (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **web —Å–µ—Ä–≤–µ—Ä–æ–≤**, **API**, **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤**

## üóÑÔ∏è **StatefulSet (–°–æ—Å—Ç–æ—è–Ω–∏–µ)**

**StatefulSet** ‚Äî —ç—Ç–æ —Ä–µ—Å—É—Ä—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏, –≥–¥–µ –∫–∞–∂–¥—ã–π Pod –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å.

### **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ StatefulSet:**
- Pod'—ã –∏–º–µ—é—Ç **—É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å**
- **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏–º–µ–Ω–∞** Pod'–æ–≤ (app-0, app-1, app-2)
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ** —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ PVC** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Pod'–∞
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–±–∞–∑ –¥–∞–Ω–Ω—ã—Ö**, **–æ—á–µ—Ä–µ–¥–µ–π**, **–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**

02-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–ª–∞—Å—Ç–µ—Ä–∞ 


# 11. –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–æ–ª—å kube-apiserver –ø–æ–¥—Ä–æ–±–Ω–æ

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ kube-apiserver?**

**kube-apiserver** ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Control Plane, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ. –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å etcd.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ kube-apiserver:**

### **1. REST API Gateway**
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π REST API –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP/HTTPS –∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (JSON, YAML, Protobuf)

### **2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç RBAC –ø–æ–ª–∏—Ç–∏–∫–∏
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º

### **3. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –º—É—Ç–∞—Ü–∏—è**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç Admission Controllers
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### **4. –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å etcd
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤


# 12. –ß—Ç–æ —Ç–∞–∫–æ–µ etcd –∏ –ø–æ—á–µ–º—É –æ–Ω –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ etcd?**

**etcd** ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–∞—è —Å–ª—É–∂–∏—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã –¥–ª—è –≤—Å–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞. –≠—Ç–æ –≤—ã—Å–æ–∫–æ–¥–æ—Å—Ç—É–ø–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ –∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ Raft.

## üèóÔ∏è **–ü–æ—á–µ–º—É etcd –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è Kubernetes:**

### **1. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**
- –•—Ä–∞–Ω–∏—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### **2. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**
- ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- Strong consistency
- –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ Raft
- –ó–∞—â–∏—Ç–∞ –æ—Ç split-brain

### **3. High Availability**
- –ö–ª–∞—Å—Ç–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–æ–±—ã—á–Ω–æ 3-5 –Ω–æ–¥)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π failover
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Digital Ocean Cloud                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  etcd Cluster (Managed HA)                                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ etcd-1 (Zone A) - Leader/Follower                     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ etcd-2 (Zone B) - Leader/Follower                     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ etcd-3 (Zone C) - Leader/Follower                     ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Raft Consensus Algorithm                                   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Leader Election                                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Log Replication                                        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Strong Consistency                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  API Server Cluster (HA)                                   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ API Server 1 ‚Üí etcd Client                            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ API Server 2 ‚Üí etcd Client                            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ API Server 3 ‚Üí etcd Client                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Stored Data in etcd                                       ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ All Kubernetes Objects                                ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Pods, Deployments, Services                       ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ ConfigMaps, Secrets                               ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ RBAC, CRDs                                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Cluster State                                         ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Node Information                                  ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Resource Quotas                                   ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ Events (TTL)                                      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Application Data                                       ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ ArgoCD Applications                               ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Prometheus Configuration                          ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ Ingress Rules                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**etcd ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç Kubernetes. –ë–µ–∑ etcd –Ω–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä–∞!**

# 13. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Kubernetes Scheduler?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Kubernetes Scheduler?**

**kube-scheduler** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Control Plane, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ Pod'–æ–≤ –Ω–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö Node'–∞—Ö –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –æ —Ç–æ–º, –≥–¥–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∂–¥—ã–π Pod, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞—Ö, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö –∏ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Scheduler:**

### **1. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Pod'–æ–≤**
- –í—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é Node –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Pod'–∞
- –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã (CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
- –ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É

### **2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è Node'–æ–≤**
- –ò—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ Node'—ã
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤
- –£—á–∏—Ç—ã–≤–∞–µ—Ç taints –∏ tolerations
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç node selectors

### **3. –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ Node'–æ–≤**
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ Node'—ã
- –í—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤


# 14. –ö–∞–∫–æ–≤–∞ —Ä–æ–ª—å kubelet?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ kubelet?**

**kubelet** ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç Node, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–π Node –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pod'–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –Ω–∞ —ç—Ç–æ–π Node. –≠—Ç–æ —Å–≤—è–∑—É—é—â–µ–µ –∑–≤–µ–Ω–æ –º–µ–∂–¥—É Control Plane –∏ —Ä–∞–±–æ—á–∏–º–∏ Node'–∞–º–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ kubelet:**

### **1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pod'–∞–º–∏**
- –ü–æ–ª—É—á–∞–µ—Ç Pod —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç API Server
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ Pod'–æ–≤
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—Ç–Ω–æ –≤ API Server

### **2. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Container Runtime**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CRI (Container Runtime Interface)
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±—Ä–∞–∑—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–µ—Ç—å –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

### **3. Health Checks**
- –í—ã–ø–æ–ª–Ω—è–µ—Ç liveness probes
- –í—ã–ø–æ–ª–Ω—è–µ—Ç readiness probes
- –í—ã–ø–æ–ª–Ω—è–µ—Ç startup probes
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### **4. –†–µ—Å—É—Ä—Å—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –°–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- –£–ø—Ä–∞–≤–ª—è–µ—Ç cgroups
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –≤ metrics-server


# 15. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç kube-proxy?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ kube-proxy?**

**kube-proxy** ‚Äî —ç—Ç–æ —Å–µ—Ç–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–π Node –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª –¥–ª—è Service'–æ–≤. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –∏ load balancing –¥–ª—è Pod'–æ–≤.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ kube-proxy:**

### **1. Service Discovery**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç Service'—ã –∏ Endpoints
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Service'–æ–≤

### **2. Load Balancing**
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É Pod'–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç session affinity

### **3. Network Proxy**
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º Pod'–∞–º
- –†–µ–∞–ª–∏–∑—É–µ—Ç ClusterIP, NodePort, LoadBalancer
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π —Ç—Ä–∞—Ñ–∏–∫


```

## üéØ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ kube-proxy:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    kube-proxy                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Service Watcher                                            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Watch Services from API Server                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Watch Endpoints from API Server                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Detect changes in real-time                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Proxy Mode                                                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ iptables mode (default)                               ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Create iptables rules                             ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ DNAT for ClusterIP                               ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ Random load balancing                             ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ IPVS mode                                             ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Create IPVS rules                                 ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ Multiple LB algorithms                            ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ Better performance                                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ userspace mode (deprecated)                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Network Programming                                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ ClusterIP implementation                              ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ NodePort implementation                               ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ LoadBalancer integration                              ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Session affinity handling                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Health Checking                                            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Monitor backend Pod health                            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Remove unhealthy endpoints                            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Update proxy rules                                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è kube-proxy:**

### **1. ConfigMap:**
```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è kube-proxy
kubectl get configmap kube-proxy -n kube-system -o yaml

# –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
# - mode: iptables/ipvs/userspace
# - clusterCIDR: –¥–∏–∞–ø–∞–∑–æ–Ω IP Pod'–æ–≤
# - bindAddress: –∞–¥—Ä–µ—Å –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏
```

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```bash
# iptables mode –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# - masqueradeAll: –º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫
# - syncPeriod: –ø–µ—Ä–∏–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª

# IPVS mode –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# - scheduler: –∞–ª–≥–æ—Ä–∏—Ç–º –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ (rr, lc, sh)
# - strictARP: —Å—Ç—Ä–æ–≥–∏–π ARP —Ä–µ–∂–∏–º
```

## üéØ **Best Practices –¥–ª—è kube-proxy:**

### **1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏ kube-proxy
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –≤—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Service'–æ–≤

### **2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPVS –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Service'–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É

### **3. –û—Ç–ª–∞–¥–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ Endpoints –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ kube-proxy
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å

**kube-proxy ‚Äî —ç—Ç–æ —Å–µ—Ç–µ–≤–æ–π –º–æ—Å—Ç, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Service'–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ!**


# 16. –û–±—ä—è—Å–Ω–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Controller Manager

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Controller Manager?**

**kube-controller-manager** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Control Plane, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∂–µ–ª–∞–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞. –ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–æ–≤.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã:**

### **1. Deployment Controller**
- –£–ø—Ä–∞–≤–ª—è–µ—Ç ReplicaSets
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç rolling updates
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∂–µ–ª–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫

### **2. ReplicaSet Controller**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤
- –°–æ–∑–¥–∞–µ—Ç/—É–¥–∞–ª—è–µ—Ç Pod'—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ Pod'–æ–≤

### **3. Node Controller**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ Node'–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç Node failures
- –£–ø—Ä–∞–≤–ª—è–µ—Ç Node lifecycle

### **4. Service Controller**
- –£–ø—Ä–∞–≤–ª—è–µ—Ç Endpoints
- –û–±–Ω–æ–≤–ª—è–µ—Ç Service discovery
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å cloud providers

### **5. Namespace Controller**
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º Namespace'–æ–≤
- –û—á–∏—â–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ Namespace


## üîÑ **Control Loop Pattern:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Controller Loop                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1. Watch API Server                                       ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Monitor resource changes                           ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Get current state                                  ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Compare with desired state                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  2. Reconcile                                              ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Calculate diff                                     ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Plan actions                                       ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Execute changes                                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  3. Update Status                                          ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Report back to API Server                         ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Update resource status                             ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Generate events                                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  4. Repeat                                                 ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Continue monitoring                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

# 18. –ö–∞–∫ Kubernetes –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç leader election?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Leader Election?**

**Leader Election** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –≤—ã–±–æ—Ä–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–ø–ª–∏–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.

## üèóÔ∏è **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω Leader Election:**

### **1. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**
- –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ò–∑–±–µ–∂–∞–Ω–∏–µ race conditions
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### **2. High Availability**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π failover –ø—Ä–∏ —Å–±–æ—è—Ö
- –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

### **3. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–µ–ø–ª–∏–∫–∞–º–∏
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏



## üîÑ **–ú–µ—Ö–∞–Ω–∏–∑–º Leader Election:**

### **1. Lease-based Leader Election:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  Leader Election Process                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1. Candidate Startup                                       ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Instance starts up                                 ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Attempts to acquire lease                          ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Becomes leader or follower                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  2. Leader Operations                                       ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Renews lease periodically                          ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Performs active work                               ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Updates lease timestamp                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  3. Follower Monitoring                                     ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Watches lease object                               ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Waits for lease expiration                         ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Ready to take over                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  4. Failover                                               ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Leader fails to renew lease                        ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ Lease expires                                      ‚îÇ
‚îÇ     ‚îú‚îÄ‚îÄ New leader elected                                 ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ Work continues                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîÑ **Best Practices:**

### **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:**
- leaseDurationSeconds: 15-30 —Å–µ–∫—É–Ω–¥
- renewDeadline: 10-20 —Å–µ–∫—É–Ω–¥  
- retryPeriod: 2-5 —Å–µ–∫—É–Ω–¥
- –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –±—ã—Å—Ç—Ä—ã–º failover –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é

### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–º–µ–Ω—ã –ª–∏–¥–µ—Ä–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –≤—Ä–µ–º—è failover
- –ê–ª–µ—Ä—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ —Å–º–µ–Ω—ã –ª–∏–¥–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ lease –æ–±—ä–µ–∫—Ç–æ–≤

### **3. –û—Ç–ª–∞–¥–∫–∞:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API Server
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ—Å—É—Ä—Å—ã Node'–æ–≤

**Leader Election –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ!**

# 19. –ö–∞–∫–æ–≤–∞ —Ä–æ–ª—å Container Runtime Interface (CRI)?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ CRI?**

**Container Runtime Interface (CRI)** ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π API –º–µ–∂–¥—É kubelet –∏ container runtime, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç Kubernetes —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ container runtime'–∞–º–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ kubelet.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ CRI:**

### **1. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è Runtime**
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö runtime'–æ–≤
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

### **2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pod'–∞–º–∏**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ Pod sandbox
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º Pod'–æ–≤
- –°–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è Pod'–æ–≤

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏**
- –°–æ–∑–¥–∞–Ω–∏–µ, –∑–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞–º–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

### **4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞–º–∏**
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤


03-–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pod-–∞–º–∏


# 21. –ß—Ç–æ —Ç–∞–∫–æ–µ Init Containers –∏ –∫–æ–≥–¥–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Init Containers?**

**Init Containers** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –¥–æ –∑–∞–ø—É—Å–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Pod'–∞. –û–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Init Containers:**

### **1. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**
- –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º
- –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∂–¥—É—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö Init Containers

### **2. –ò–∑–æ–ª—è—Ü–∏—è –∑–∞–¥–∞—á**
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### **3. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**
- –ü—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ Pod'–∞ Init Containers –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç retry –ª–æ–≥–∏–∫—É


# 22. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å multi-container Pod'—ã?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Multi-container Pod'—ã?**

**Multi-container Pod'—ã** ‚Äî —ç—Ç–æ Pod'—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ. –û–Ω–∏ —Ä–∞–∑–¥–µ–ª—è—é—Ç —Å–µ—Ç—å, storage –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ç–µ—Å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Multi-container Pod'–æ–≤:**

### **1. –û–±—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã**
- –ï–¥–∏–Ω—ã–π IP –∞–¥—Ä–µ—Å –∏ —Å–µ—Ç–µ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
- –û–±—â–∏–µ volumes –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–¥–Ω—É Node

### **2. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**
- Sidecar - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- Ambassador - –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- Adapter - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### **3. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ú–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ localhost
- –û–±—â–∏–µ environment variables
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ shared volumes


## üéØ **Best Practices –¥–ª—è Multi-container Pod'–æ–≤:**

### **1. –î–∏–∑–∞–π–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**
- –û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –¥–ª—è sidecar'–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

### **2. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ localhost –¥–ª—è —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- Shared volumes –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–∞–π–ª–∞–º–∏
- Environment variables –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- Graceful shutdown –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –û—Ç–¥–µ–ª—å–Ω—ã–µ health checks –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–ª–µ—Ä—Ç—ã –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã –ª—é–±–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### **4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –†–∞–∑–Ω—ã–µ Security Contexts –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ò–∑–æ–ª—è—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- Network policies –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

**Multi-container Pod'—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ç–µ—Å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏!**

# 23. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É requests –∏ limits –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Resource Requests –∏ Limits?**

**Resource Requests** –∏ **Limits** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º—ã Kubernetes –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. Requests –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã, –∞ Limits —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

### **Requests (–ó–∞–ø—Ä–æ—Å—ã)**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Scheduler'–æ–º –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è Pod'–æ–≤
- –†–µ–∑–µ—Ä–≤–∏—Ä—É—é—Ç—Å—è –Ω–∞ Node –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –í–ª–∏—è—é—Ç –Ω–∞ QoS –∫–ª–∞—Å—Å Pod'–∞

### **Limits (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ memory limit - Pod —É–±–∏–≤–∞–µ—Ç—Å—è (OOMKilled)
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ CPU limit - –ø—Ä–æ—Ü–µ—Å—Å throttling

## üîÑ **Best Practices:**

### **1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:**
- –í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ requests –¥–ª—è production
- Limits –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑—É–º–Ω—ã–º–∏ (–Ω–µ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–º–∏)
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vertical Pod Autoscaler –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### **2. CPU —Ä–µ—Å—É—Ä—Å—ã:**
- Requests: –±–∞–∑–æ–≤–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Limits: –ø–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ + –±—É—Ñ–µ—Ä
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏—Ö CPU limits
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ CPU throttling

### **3. Memory —Ä–µ—Å—É—Ä—Å—ã:**
- Requests: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã
- Limits: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å + –±—É—Ñ–µ—Ä –¥–ª—è –ø–∏–∫–æ–≤
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ memory leaks
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ OOMKilled —Å–æ–±—ã—Ç–∏—è

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –≤—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ CPU throttling
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ OOMKilled —Å–æ–±—ã—Ç–∏—è
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ trends –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞!**

# 24. –ö–∞–∫ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–π Pod? –Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞ —Ç—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ –æ—Ç–ª–∞–¥–∫–∞ Pod'–æ–≤?**

**–û—Ç–ª–∞–¥–∫–∞ Pod'–æ–≤** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å Pod'–∞–º–∏ –≤ Kubernetes. –í–∫–ª—é—á–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç—É—Å–∞, –ª–æ–≥–æ–≤, —Å–æ–±—ã—Ç–∏–π, —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Å–µ—Ç–µ–≤–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –æ—Ç–ª–∞–¥–∫–∏:**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Pod'–∞**
- –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Running, Pending, Failed)
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—Ç–∞—Ä—Ç–æ–≤
- –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞

### **2. –ê–Ω–∞–ª–∏–∑ —Å–æ–±—ã—Ç–∏–π**
- –°–æ–±—ã—Ç–∏—è Kubernetes
- –û—à–∏–±–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–∑–∞–º–∏
- –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### **3. –ò–∑—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤**
- –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –ª–æ–≥–∏ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∞—Ö
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
- Init container –ª–æ–≥–∏

### **4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ Node
- Requests –∏ limits
- Storage –∏ volumes
- Network connectivity


## üéØ **–ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ Pod'–æ–≤:**

### **1. –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- [ ] `kubectl get pod <pod-name> -o wide`
- [ ] `kubectl describe pod <pod-name>`
- [ ] `kubectl logs <pod-name>`
- [ ] `kubectl get events --field-selector involvedObject.name=<pod-name>`

### **2. –£–≥–ª—É–±–ª–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã Node'–æ–≤
- [ ] –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å storage –∏ volumes
- [ ] –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Security Context

### **3. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:**
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–∑—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ç—å
- [ ] –û–±–Ω–æ–≤–∏—Ç—å storage

### **4. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ:**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –î–æ–±–∞–≤–∏—Ç—å health checks
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å resource limits
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è

**–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ç–ª–∞–¥–∫–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å Pod'–∞–º–∏!**

# 25. –ß—Ç–æ —Ç–∞–∫–æ–µ Pod Security Contexts?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Security Context?**

**Security Context** ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã—Ö –∫ Pod'—É –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≥—Ä—É–ø–ø—ã, capabilities –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Security Context:**

### **1. User –∏ Group ID**
- runAsUser - UID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- runAsGroup - GID –≥—Ä—É–ø–ø—ã
- runAsNonRoot - –∑–∞–ø—Ä–µ—Ç –∑–∞–ø—É—Å–∫–∞ –æ—Ç root
- fsGroup - –≥—Ä—É–ø–ø–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### **2. Capabilities**
- add - –¥–æ–±–∞–≤–∏—Ç—å Linux capabilities
- drop - —É–±—Ä–∞—Ç—å Linux capabilities
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

### **3. SELinux/AppArmor**
- seLinuxOptions - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SELinux
- appArmorProfile - –ø—Ä–æ—Ñ–∏–ª—å AppArmor
- seccompProfile - –ø—Ä–æ—Ñ–∏–ª—å seccomp

### **4. Privileged —Ä–µ–∂–∏–º**
- privileged - –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- allowPrivilegeEscalation - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
- readOnlyRootFilesystem - —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π –§–°

# 26. –ö–∞–∫ Kubernetes –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ—Å—Ç–∞—Ä—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Container Restarts –≤ Kubernetes?**

**Container Restarts** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–∏ –∏—Ö —Å–±–æ–µ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏. Kubernetes –∏—Å–ø–æ–ª—å–∑—É–µ—Ç restart policies –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üèóÔ∏è **Restart Policies:**

### **1. Always (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è long-running —Å–µ—Ä–≤–∏—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Deployments, StatefulSets

### **2. OnFailure**
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—à–∏–±–∫–µ (exit code != 0)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è batch jobs
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Jobs

### **3. Never**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è one-time tasks
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö Jobs


# 27. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–ª–∞—Å—Å—ã Quality of Service (QoS) –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ QoS Classes?**

**Quality of Service (QoS) Classes** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ Pod'–æ–≤ –≤ Kubernetes –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö resource requests –∏ limits. QoS –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç Pod'–æ–≤ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ—à–µ–Ω–∏—è –æ —Ç–æ–º, –∫–∞–∫–∏–µ Pod'—ã –±—É–¥—É—Ç evicted –ø–µ—Ä–≤—ã–º–∏.

## üèóÔ∏è **–¢—Ä–∏ –∫–ª–∞—Å—Å–∞ QoS:**

### **1. Guaranteed (–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)**
- Requests = Limits –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –í—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ eviction

### **2. Burstable (–ü–∞–∫–µ—Ç–Ω—ã–π)**
- Requests < Limits –∏–ª–∏ —Ç–æ–ª—å–∫–æ requests —É–∫–∞–∑–∞–Ω—ã
- –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- Eviction –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

### **3. BestEffort (–õ—É—á—à–∏–µ —É—Å–∏–ª–∏—è)**
- –ù–µ—Ç requests –∏ limits
- –ù–∏–∑—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –ü–µ—Ä–≤—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ eviction

## üéØ **Best Practices –¥–ª—è QoS:**

### **1. –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ QoS –∫–ª–∞—Å—Å–∞:**

**Guaranteed QoS:**
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–µ—Ä–≤–∏—Å—ã —Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- Production workloads —Å SLA

**Burstable QoS:**
- –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- Batch processing jobs
- Development/staging workloads

**BestEffort QoS:**
- Batch jobs –±–µ–∑ SLA
- Experimental workloads
- Background tasks
- Development/testing


### **4. QoS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –†–µ–≥—É–ª—è—Ä–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ requests/limits –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vertical Pod Autoscaler –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ eviction —Å–æ–±—ã—Ç–∏—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ QoS –∫–ª–∞—Å—Å—ã

**QoS –∫–ª–∞—Å—Å—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤!**

# 28. –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å readiness –∏ liveness probes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Health Probes?**

**Health Probes** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ Kubernetes. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ (readiness) –∏ –∫–æ–≥–¥–∞ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (liveness).

## üèóÔ∏è **–¢–∏–ø—ã Probes:**

### **1. Liveness Probe**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "–∑–∞–≤–∏—Å—à–∏–µ" –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### **2. Readiness Probe**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ Pod –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ Service
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### **3. Startup Probe (Kubernetes 1.16+)**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –û—Ç–∫–ª—é—á–∞–µ—Ç liveness/readiness –¥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω–æ —Å—Ç–∞—Ä—Ç—É—é—â–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### **2. –í—ã–±–æ—Ä —Ç–∏–ø–∞ probe:**
- **HTTP GET**: –¥–ª—è web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å health endpoints
- **TCP Socket**: –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –±–µ–∑ HTTP
- **Exec**: –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ probe failures
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è probes
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —á–∞—Å—Ç–æ—Ç—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤ –∏–∑-–∑–∞ liveness failures
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ readiness probe failures –¥–ª—è –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ probes –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!**

# 29. –ß—Ç–æ —Ç–∞–∫–æ–µ Pod Disruption Budget (PDB)?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Pod Disruption Budget?**

**Pod Disruption Budget (PDB)** ‚Äî —ç—Ç–æ —Ä–µ—Å—É—Ä—Å Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Ä–µ–º—è voluntary disruptions (–ø–ª–∞–Ω–æ–≤—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π). PDB –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è Node'–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –ø–ª–∞–Ω–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

## üèóÔ∏è **–¢–∏–ø—ã Disruptions:**

### **1. Voluntary Disruptions (–ü–ª–∞–Ω–æ–≤—ã–µ)**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è Deployment'–æ–≤
- Drain Node'–æ–≤ –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è Node'–æ–≤

### **2. Involuntary Disruptions (–í–Ω–µ–ø–ª–∞–Ω–æ–≤—ã–µ)**
- –°–±–æ–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- Kernel panic
- OOM kills

**PDB –∑–∞—â–∏—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç voluntary disruptions!**

# 30. –ö–∞–∫ Kubernetes –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç DNS –¥–ª—è Pod'–æ–≤?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ DNS –≤ Kubernetes?**

**DNS –≤ Kubernetes** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç Pod'–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã –ø–æ –∏–º–µ–Ω–∞–º –≤–º–µ—Å—Ç–æ IP-–∞–¥—Ä–µ—Å–æ–≤. Kubernetes –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CoreDNS (–∏–ª–∏ kube-dns –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö) –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è DNS-—Å–µ—Ä–≤–∏—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã DNS —Å–∏—Å—Ç–µ–º—ã:**

### **1. CoreDNS**
- DNS-—Å–µ—Ä–≤–µ—Ä –∫–ª–∞—Å—Ç–µ—Ä–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ Deployment –≤ kube-system
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç DNS-–∑–∞–ø—Ä–æ—Å—ã –æ—Ç Pod'–æ–≤
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ ConfigMap

### **2. DNS Policy**
- ClusterFirst (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- Default
- ClusterFirstWithHostNet
- None

### **3. DNS Records**
- Service records (A, AAAA, SRV)
- Pod records
- Namespace-based resolution
- External name resolution

# 31. –ö–∞–∫–∏–µ —Ç–∏–ø—ã Services —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Service –≤ Kubernetes?**

**Service** ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–π –Ω–∞–±–æ—Ä Pod'–æ–≤ –∏ –ø–æ–ª–∏—Ç–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–∏–º. Service –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Pod'–∞—Ö.

## üèóÔ∏è **–¢–∏–ø—ã Services:**

### **1. ClusterIP (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
- –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

### **2. NodePort**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç –Ω–∞ –≤—Å–µ—Ö Node'–∞—Ö
- –î–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –î–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤: 30000-32767

### **3. LoadBalancer**
- –°–æ–∑–¥–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π Load Balancer
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç NodePort –∏ ClusterIP
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç cloud provider

### **4. ExternalName**
- DNS CNAME –∑–∞–ø–∏—Å—å
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å
- –ù–µ —Å–æ–∑–¥–∞–µ—Ç proxy

## üéØ **Service Best Practices:**

### **1. –í—ã–±–æ—Ä —Ç–∏–ø–∞ Service:**
- **ClusterIP**: –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **NodePort**: —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ—Å—Ç–æ–π –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø
- **LoadBalancer**: production –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø –≤ cloud
- **ExternalName**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

# 32. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Service Discovery –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Service Discovery?**

**Service Discovery** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –¥—Ä—É–≥–∏–º —Å–µ—Ä–≤–∏—Å–∞–º –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–Ω–∞—Ç—å –∏—Ö —Ç–æ—á–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥—Ä–µ—Å–∞. –í Kubernetes —ç—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ DNS –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Service Discovery:**

### **1. DNS-based Discovery**
- CoreDNS –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ DNS –∑–∞–ø–∏—Å–∏ –¥–ª—è Services
- FQDN —Ñ–æ—Ä–º–∞—Ç: `service.namespace.svc.cluster.local`

### **2. Environment Variables**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Services
- –§–æ—Ä–º–∞—Ç: `{SERVICE_NAME}_SERVICE_HOST`
- –§–æ—Ä–º–∞—Ç: `{SERVICE_NAME}_SERVICE_PORT`

### **3. Service Registry**
- Endpoints API
- EndpointSlices (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

# 33. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É ClusterIP –∏ NodePort?

## üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è ClusterIP –∏ NodePort**

**ClusterIP** –∏ **NodePort** ‚Äî —ç—Ç–æ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ Services –≤ Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è.

## üèóÔ∏è **ClusterIP Service:**

### **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø**: —Ç–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π IP**: –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- **DNS resolution**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–º–µ–Ω
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: —Ç–∏–ø Service –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### **NodePort Service:**
- **–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø**: –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **–ü–æ—Ä—Ç –Ω–∞ Node'–∞—Ö**: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç –Ω–∞ –≤—Å–µ—Ö Node'–∞—Ö
- **–î–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤**: 30000-32767
- **–í–∫–ª—é—á–∞–µ—Ç ClusterIP**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç ClusterIP

```

### **2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
cat << 'EOF'
+------------------+------------------+------------------+
| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞   | ClusterIP        | NodePort         |
+------------------+------------------+------------------+
| –î–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ     | –ù–ï–¢              | –î–ê               |
| –î–æ—Å—Ç—É–ø –∏–∑–Ω—É—Ç—Ä–∏   | –î–ê               | –î–ê               |
| –ü–æ—Ä—Ç –Ω–∞ Node'–∞—Ö  | –ù–ï–¢              | –î–ê (30000-32767) |
| ClusterIP        | –î–ê               | –î–ê (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)|
| DNS resolution   | –î–ê               | –î–ê               |
| Load balancing   | –î–ê               | –î–ê               |
| Use case         | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API   | –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø   |
+------------------+------------------+------------------+
EOF
```


## üéØ **Best Practices:**

### **1. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ClusterIP:**
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫—ç—à–∏
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –°–µ—Ä–≤–∏—Å—ã –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### **2. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NodePort:**
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ—Å—Ç–æ–π –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø –±–µ–∑ LoadBalancer
- Legacy –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### **3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã NodePort –¥–ª—è production:**
```bash
# –í–º–µ—Å—Ç–æ NodePort –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
# 1. LoadBalancer (–≤ cloud)
# 2. Ingress Controller
# 3. Service Mesh (Istio, Linkerd)

```

**ClusterIP –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é, –∞ NodePort –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —Å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–∞–º–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏!**

# 34. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –≤ Kubernetes Services?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Load Balancing –≤ Kubernetes?**

**Load Balancing** –≤ Kubernetes ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ Pod'–∞–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Load Balancing:**

### **1. kube-proxy**
- –°–µ—Ç–µ–≤–æ–π –ø—Ä–æ–∫—Å–∏ –Ω–∞ –∫–∞–∂–¥–æ–º Node
- –†–µ–∞–ª–∏–∑—É–µ—Ç Service abstraction
- –£–ø—Ä–∞–≤–ª—è–µ—Ç iptables/IPVS –ø—Ä–∞–≤–∏–ª–∞–º–∏

### **2. Service Types –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞**
- ClusterIP: –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞
- NodePort: –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Node'—ã
- LoadBalancer: –≤–Ω–µ—à–Ω—è—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞

### **3. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏**
- Round Robin (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- Session Affinity
- Topology-aware routing

``

## üéØ **Load Balancing Best Practices:**

### **1. –í—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏:**
- **Round Robin**: —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Session Affinity**: –¥–ª—è stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Topology-aware**: –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è latency
- **Health Checks**: –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–∑–¥–æ—Ä–æ–≤—ã—Ö Pod'–æ–≤

### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏:**
```bash
# –ú–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus:
# kube_service_info - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Services
# kube_endpoint_info - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± Endpoints
# kube_pod_info - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Pod'–∞—Ö

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
kubectl port-forward svc/prometheus-server -n monitoring 9090:80

# –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
# rate(container_network_receive_bytes_total[5m]) - –≤—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫
# rate(container_network_transmit_bytes_total[5m]) - –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫
```


**Load Balancing –≤ Kubernetes –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É Pod'–∞–º–∏ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã!**


# 35. –ß—Ç–æ —Ç–∞–∫–æ–µ Endpoints –∏ EndpointSlices?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Endpoints –∏ EndpointSlices?**

**Endpoints** –∏ **EndpointSlices** ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ç–µ–≤—ã—Ö –∞–¥—Ä–µ—Å–∞—Ö (IP –∏ –ø–æ—Ä—Ç—ã) Pod'–æ–≤, –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π Service. –û–Ω–∏ —è–≤–ª—è—é—Ç—Å—è —Å–≤—è–∑—É—é—â–∏–º –∑–≤–µ–Ω–æ–º –º–µ–∂–¥—É Service –∏ Pod'–∞–º–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **Endpoints (Legacy)**
- –°–ø–∏—Å–æ–∫ IP –∞–¥—Ä–µ—Å–æ–≤ –∏ –ø–æ—Ä—Ç–æ–≤ Pod'–æ–≤
- –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç –Ω–∞ Service
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ–¥—Ö–æ–¥

### **EndpointSlices (Modern)**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–µ–Ω—å—à–∏–µ —á–∞—Å—Ç–∏ (slices)
- –õ—É—á—à–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–µ–≤–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- Kubernetes 1.17+ (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)

# üéØ **Best Practices:**

### **1. Endpoints vs EndpointSlices:**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ EndpointSlices** –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ (Kubernetes 1.17+)
- **Endpoints** –¥–ª—è legacy —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- **EndpointSlices** –ª—É—á—à–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏—Ö Services

### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Endpoints:**
```bash
# –ú–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus:
# kube_endpoint_info - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± Endpoints
# kube_endpointslice_info - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± EndpointSlices
# kube_service_info - —Å–≤—è–∑—å Service —Å Endpoints

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
kubectl port-forward svc/prometheus-server -n monitoring 9090:80

# –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
# kube_endpoint_address_available - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞–¥—Ä–µ—Å–∞
# kube_endpoint_address_not_ready - –Ω–µ–≥–æ—Ç–æ–≤—ã–µ –∞–¥—Ä–µ—Å–∞
```


### **4. Performance considerations:**
- EndpointSlices —Ä–∞–∑–±–∏–≤–∞—é—Ç –±–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏ –Ω–∞ —á–∞—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 endpoints –Ω–∞ slice)
- –£–º–µ–Ω—å—à–∞—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API server
- –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å kube-proxy

**Endpoints –∏ EndpointSlices –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É Services –∏ Pod'–∞–º–∏, —Å EndpointSlices –∫–∞–∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π!**

# 36. –ö–∞–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å—É –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞?

## üéØ **–°–ø–æ—Å–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞**

–í Kubernetes —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞, –∫–∞–∂–¥—ã–π —Å —Å–≤–æ–∏–º–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

### **1. NodePort Service**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç –Ω–∞ –≤—Å–µ—Ö Node'–∞—Ö
- –î–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤: 30000-32767
- –ü—Ä–æ—Å—Ç–æ–π, –Ω–æ –Ω–µ production-ready

### **2. LoadBalancer Service**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç cloud provider LoadBalancer
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ External IP
- Production-ready —Ä–µ—à–µ–Ω–∏–µ

### **3. Ingress Controller**
- HTTP/HTTPS –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- SSL/TLS termination
- –ù–∞–∏–±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### **4. Port Forwarding**
- –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
- –í—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø

## üéØ **Best Practices –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞:**

### **1. –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **Development**: Port forwarding
- **Testing**: NodePort
- **Staging**: LoadBalancer
- **Production**: Ingress + LoadBalancer

# 37. –ß—Ç–æ —Ç–∞–∫–æ–µ Ingress Controller –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Ingress Controller?**

**Ingress Controller** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Kubernetes, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–º –¥–æ—Å—Ç—É–ø–æ–º –∫ —Å–µ—Ä–≤–∏—Å–∞–º –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ, –æ–±—ã—á–Ω–æ HTTP –∏ HTTPS. –û–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ —Ä–µ—Å—É—Ä—Å–∞—Ö Ingress, –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é —Ç—Ä–∞—Ñ–∏–∫–∞, SSL termination –∏ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Ingress:**

### **1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Ingress Resource**: –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- **Ingress Controller**: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —á–∏—Ç–∞–µ—Ç Ingress —Ä–µ—Å—É—Ä—Å—ã
- **Load Balancer**: —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞

### **2. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ Ingress Controllers:**
- **NGINX Ingress Controller**: –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π
- **Traefik**: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º service discovery
- **HAProxy**: –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Istio Gateway**: –¥–ª—è service mesh

### **3. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Ingress —Ä–µ—Å—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ Kubernetes API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è reverse proxy
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏


## üéØ **Best Practices:**

### **1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ worker processes –∏ connections
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è buffer sizes
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTP/2
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### **2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Ingress Controller
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ rate limiting
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WAF (Web Application Firewall)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ IP

### **3. –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:**
- –ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–ø–ª–∏–∫ Ingress Controller
- Anti-affinity –ø—Ä–∞–≤–∏–ª–∞
- Health checks –∏ readiness probes
- Graceful shutdown

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–ª–µ—Ä—Ç—ã –Ω–∞ –æ—à–∏–±–∫–∏ –∏ –≤—ã—Å–æ–∫—É—é latency
- Dashboard –≤ Grafana

**Ingress Controller –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫—É—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é HTTP/HTTPS —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ!**


# 38. –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å SSL/TLS termination –≤ Kubernetes?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ SSL/TLS termination?**

**SSL/TLS termination** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ HTTPS —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ Load Balancer –∏–ª–∏ Ingress Controller, –ø–æ—Å–ª–µ —á–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫ backend —Å–µ—Ä–≤–∏—Å–∞–º –≤ –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ –∏ —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üèóÔ∏è **–ú–µ—Ç–æ–¥—ã SSL/TLS termination –≤ Kubernetes:**

### **1. Ingress Controller termination**
- –ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ cert-manager

### **2. LoadBalancer termination**
- –ù–∞ —É—Ä–æ–≤–Ω–µ cloud provider
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å

### **3. Pod-level termination**
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ –∫–∞–∂–¥–æ–º Pod'–µ
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

# üéØ **Best Practices:**

### **1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–ª—å–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ä–æ–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π

### **2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- SSL session caching
- HTTP/2 –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- OCSP stapling
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è cipher suites

### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –ú–µ—Ç—Ä–∏–∫–∏ SSL handshake –≤—Ä–µ–º–µ–Ω–∏
- –ê–ª–µ—Ä—Ç—ã –Ω–∞ –∏—Å—Ç–µ—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ SSL –æ—à–∏–±–æ–∫
- Dashboard –¥–ª—è SSL —Å—Ç–∞—Ç—É—Å–∞

### **4. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ cert-manager
- CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- Backup –∏ restore –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- Disaster recovery –ø–ª–∞–Ω—ã

**SSL/TLS termination –≤ Kubernetes –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏!**

# 39. –ß—Ç–æ —Ç–∞–∫–æ–µ Network Policies –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ Network Policies?**

**Network Policies** ‚Äî —ç—Ç–æ —Ä–µ—Å—É—Ä—Å—ã Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø—Ä–∞–≤–∏–ª–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–∂–¥—É Pod'–∞–º–∏. –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ firewall –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—è –≤—Ö–æ–¥—è—â–∏–π (ingress) –∏ –∏—Å—Ö–æ–¥—è—â–∏–π (egress) —Ç—Ä–∞—Ñ–∏–∫ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö Pod'–æ–≤.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **1. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ Pod'—ã –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º
- Network Policy —Å–æ–∑–¥–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö Pod'–æ–≤
- –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ CNI (Container Network Interface)
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç —Å–µ—Ç–µ–≤–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ (Calico, Cilium, Weave)

### **2. –¢–∏–ø—ã –ø—Ä–∞–≤–∏–ª:**
- **Ingress**: –≤—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –∫ Pod'–∞–º
- **Egress**: –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –æ—Ç Pod'–æ–≤
- **Selectors**: –≤—ã–±–æ—Ä Pod'–æ–≤ –ø–æ labels
- **Namespaces**: –∏–∑–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É namespace'–∞–º–∏

### **3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:**
- TCP, UDP, SCTP
- –ü–æ—Ä—Ç—ã –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –ø–æ—Ä—Ç–æ–≤
- Named ports –∏–∑ Service



## üéØ **Best Practices:**

### **1. –î–∏–∑–∞–π–Ω Network Policies:**
- –ù–∞—á–∏–Ω–∞—Ç—å —Å default deny all
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø least privilege
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å namespace –∏–∑–æ–ª—è—Ü–∏—é
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞

### **2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã connectivity
- –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª
- Staging environment —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Rollback –ø–ª–∞–Ω—ã

### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ú–µ—Ç—Ä–∏–∫–∏ Network Policy –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- –ê–ª–µ—Ä—Ç—ã –Ω–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫
- Regular audit –ø—Ä–∞–≤–∏–ª

### **4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∞–≤–∏–ª
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ DNS
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CNI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

# 40. –û–±—ä—è—Å–Ω–∏—Ç–µ —Å–µ—Ç–µ–≤—É—é –º–æ–¥–µ–ª—å Kubernetes

## üéØ **–°–µ—Ç–µ–≤–∞—è –º–æ–¥–µ–ª—å Kubernetes**

**–°–µ—Ç–µ–≤–∞—è –º–æ–¥–µ–ª—å Kubernetes** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ Pod'—ã, Service'—ã –∏ –≤–Ω–µ—à–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ. –û–Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ø–ª–æ—Å–∫–æ–π —Å–µ—Ç–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –≥–¥–µ –∫–∞–∂–¥—ã–π Pod –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å –∏ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ–±—â–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ Pod'–∞–º–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–µ—Ç–µ–≤–æ–π –º–æ–¥–µ–ª–∏:**

### **1. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ö–∞–∂–¥—ã–π Pod –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å
- Pod'—ã –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –±–µ–∑ NAT
- –ê–≥–µ–Ω—Ç—ã –Ω–∞ Node'–∞—Ö –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è —Å–æ –≤—Å–µ–º–∏ Pod'–∞–º–∏
- Pod'—ã –≤ host network –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è —Å–æ –≤—Å–µ–º–∏ Pod'–∞–º–∏

### **2. –°–µ—Ç–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Pod Network**: —Å–µ—Ç—å –¥–ª—è Pod'–æ–≤
- **Service Network**: –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è Service'–æ–≤
- **Node Network**: —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è —Å–µ—Ç—å Node'–æ–≤
- **Cluster DNS**: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π DNS –¥–ª—è service discovery

### **3. CNI (Container Network Interface):**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞—Ü–∏–µ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Network Policies


## üéØ **Best Practices –¥–ª—è —Å–µ—Ç–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

### **1. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏:**
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ CIDR –±–ª–æ–∫–æ–≤
- –ò–∑–±–µ–≥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ IP –∞–¥—Ä–µ—Å–æ–≤
- –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏

### **2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è MTU —Ä–∞–∑–º–µ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ node-local DNS –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è network hops
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–µ–≤–æ–π –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

### **3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Network Policies
- –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ inter-pod –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –ú–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ DNS resolution –≤—Ä–µ–º–µ–Ω–∏
- –ê–ª–µ—Ä—Ç—ã –Ω–∞ —Å–µ—Ç–µ–≤—ã–µ —Å–±–æ–∏
- Capacity planning –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## üßπ **–û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:**
```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã
kubectl delete namespace network-test network-test-2
```

## üìã **–°–≤–æ–¥–∫–∞ —Å–µ—Ç–µ–≤–æ–π –º–æ–¥–µ–ª–∏ Kubernetes:**

### **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **Pod Network**: –ö–∞–∂–¥—ã–π Pod –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP
2. **Service Network**: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ IP –¥–ª—è Service'–æ–≤
3. **CNI**: –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é
4. **kube-proxy**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Service –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
5. **CoreDNS**: Service discovery —á–µ—Ä–µ–∑ DNS

### **–¢–∏–ø—ã —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞:**
- **Pod-to-Pod**: –ü—Ä—è–º–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É Pod'–∞–º–∏
- **Pod-to-Service**: –ß–µ—Ä–µ–∑ Service –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é
- **External-to-Service**: –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Ingress/LoadBalancer
- **Pod-to-External**: –ò—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞

**–°–µ—Ç–µ–≤–∞—è –º–æ–¥–µ–ª—å Kubernetes –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞!**


# 41. –ß—Ç–æ —Ç–∞–∫–æ–µ ReplicaSet –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ ReplicaSet?**

**ReplicaSet** ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫ Pod'–æ–≤ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –û–Ω –∑–∞–º–µ–Ω–∏–ª —É—Å—Ç–∞—Ä–µ–≤—à–∏–π ReplicationController –∏ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è Deployment'–æ–≤.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ReplicaSet:**

### **1. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö Pod'–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö Pod'–æ–≤ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ
- –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö Pod'–æ–≤ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ label selector –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Pod'–æ–≤

### **2. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Selector**: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ Pod'—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è ReplicaSet
- **Replicas**: –∂–µ–ª–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤
- **Template**: —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö Pod'–æ–≤
- **Controller**: –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º

### **3. –û—Ç–ª–∏—á–∏—è –æ—Ç ReplicationController:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ set-based —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∞ Pod'–æ–≤
- –õ—É—á—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Deployment'–∞–º–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è




## üìã **–°–≤–æ–¥–∫–∞ ReplicaSet:**

### **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –û–ø–∏—Å—ã–≤–∞–µ—Ç–µ –∂–µ–ª–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç failed Pod'—ã
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫
- **Label —Å–µ–ª–µ–∫—Ç–æ—Ä—ã**: –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pod'–∞–º–∏

### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Deployment
- **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ—Å–Ω–æ–≤**: –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º
- **Troubleshooting**: –ü–æ–º–æ–≥–∞–µ—Ç –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –ø—Ä–æ–±–ª–µ–º Deployment'–æ–≤
- **Custom controllers**: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

**ReplicaSet —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º –±–ª–æ–∫–æ–º Kubernetes, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–º –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!**

# 42. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è Deployment –æ—Ç ReplicaSet?

## üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è Deployment –æ—Ç ReplicaSet**

**Deployment** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç ReplicaSet'–∞–º–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è Pod'–æ–≤. –í —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ ReplicaSet –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫, Deployment –¥–æ–±–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

### **1. –ò–µ—Ä–∞—Ä—Ö–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- **ReplicaSet**: –ù–∞–ø—Ä—è–º—É—é —É–ø—Ä–∞–≤–ª—è–µ—Ç Pod'–∞–º–∏
- **Deployment**: –£–ø—Ä–∞–≤–ª—è–µ—Ç ReplicaSet'–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç Pod'–∞–º–∏

### **2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
| –§—É–Ω–∫—Ü–∏—è | ReplicaSet | Deployment |
|---------|------------|------------|
| –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫ | ‚úÖ | ‚úÖ |
| Rolling updates | ‚ùå | ‚úÖ |
| Rollback | ‚ùå | ‚úÖ |
| –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π | ‚ùå | ‚úÖ |
| –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è | ‚ùå | ‚úÖ |
| Pause/Resume | ‚ùå | ‚úÖ |

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º:**
- **ReplicaSet**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **Deployment**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º

# 43. –ö–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Kubernetes?

## üéØ **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Kubernetes**

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ Kubernetes –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∏—Å–∫–æ–≤ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**

### **1. RollingUpdate (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Å—Ç–∞—Ä—ã—Ö Pod'–æ–≤ –Ω–æ–≤—ã–º–∏
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç zero-downtime deployment
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ maxUnavailable –∏ maxSurge

### **2. Recreate:**
- –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç–∞—Ä—ã—Ö Pod'–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º downtime
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏

### **3. Blue-Green:**
- –ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏ —Å—Ä–µ–¥–∞–º–∏
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞
- –¢—Ä–µ–±—É–µ—Ç –¥–≤–æ–π–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

### **4. Canary:**
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–∞—Ç–∞


## üìã **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π:**

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è | Downtime | –†–µ—Å—É—Ä—Å—ã | –°–ª–æ–∂–Ω–æ—Å—Ç—å | Rollback | Use Case |
|-----------|----------|---------|-----------|----------|----------|
| **RollingUpdate** | –ù–µ—Ç | 1x + surge | –ù–∏–∑–∫–∞—è | –ë—ã—Å—Ç—Ä—ã–π | Stateless apps |
| **Recreate** | –ï—Å—Ç—å | 1x | –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è | –ú–µ–¥–ª–µ–Ω–Ω—ã–π | Stateful apps |
| **Blue-Green** | –ù–µ—Ç | 2x | –°—Ä–µ–¥–Ω—è—è | –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π | Critical services |
| **Canary** | –ù–µ—Ç | 1x + canary | –í—ã—Å–æ–∫–∞—è | –ë—ã—Å—Ç—Ä—ã–π | Risk mitigation |
| **A/B Testing** | –ù–µ—Ç | 2x | –í—ã—Å–æ–∫–∞—è | –ë—ã—Å—Ç—Ä—ã–π | Feature testing |
| **Shadow** | –ù–µ—Ç | 2x | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | N/A | Performance testing |

## üéØ **–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

### **1. –î–ª—è Production:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ RollingUpdate –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ stateless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ health checks
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –ò–º–µ–π—Ç–µ –ø–ª–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ rollback

### **2. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ Blue-Green –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ rollback
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Canary –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ comprehensive –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **3. –î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
- A/B Testing –¥–ª—è feature flags
- Shadow deployment –¥–ª—è performance —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Canary –¥–ª—è –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ production —Å—Ä–µ–¥–µ!**

# 44. –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å rolling update –∏ rollback?

## üéØ **Rolling Update –∏ Rollback –≤ Kubernetes**

**Rolling Update** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç–∞—Ä—ã–µ Pod'—ã –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–æ–≤—ã–º–∏ –ø–æ –æ–¥–Ω–æ–º—É –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–∏–º–∏ –≥—Ä—É–ø–ø–∞–º–∏. **Rollback** ‚Äî —ç—Ç–æ –æ—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π.

## üèóÔ∏è **–ú–µ—Ö–∞–Ω–∏–∑–º Rolling Update:**

### **1. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ ReplicaSet —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ ReplicaSet
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ ReplicaSet
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ maxUnavailable –∏ maxSurge

### **2. –≠—Ç–∞–ø—ã Rolling Update:**
1. **Validation**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. **Creation**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ ReplicaSet
3. **Scaling**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **Health Checks**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –Ω–æ–≤—ã—Ö Pod'–æ–≤
5. **Completion**: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### **3. Rollback –º–µ—Ö–∞–Ω–∏–∑–º:**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ ReplicaSet'–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∫ –ª—é–±–æ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–µ–≤–∏–∑–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–ª–∏ —Ä—É—á–Ω–æ–π rollback
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞


## üéØ **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Rolling Update:**

### **1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –í—Å–µ–≥–¥–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ readiness probes
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è maxUnavailable
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ staging —Å—Ä–µ–¥–µ
- –ò–º–µ–π—Ç–µ –ø–ª–∞–Ω rollback

### **2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ maxSurge –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ appropriate resource limits
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –≤—Ä–µ–º—è rollout
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ automation –¥–ª—è consistency

### **3. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- –í–µ–¥–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã rollout

**Rolling Update –∏ Rollback —è–≤–ª—è—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ production —Å—Ä–µ–¥–µ!**

# 45. –ß—Ç–æ —Ç–∞–∫–æ–µ maxSurge –∏ maxUnavailable –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è?

## üéØ **maxSurge –∏ maxUnavailable –≤ Kubernetes**

**maxSurge** –∏ **maxUnavailable** ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ RollingUpdate, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç, –∫–∞–∫ Kubernetes –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é —Å–µ—Ä–≤–∏—Å–∞.

## üèóÔ∏è **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

### **1. maxUnavailable:**
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–ó–Ω–∞—á–µ–Ω–∏—è**: –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2) –∏–ª–∏ –ø—Ä–æ—Ü–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 25%)
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: 25%
- **–í–ª–∏—è–Ω–∏–µ**: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞

### **2. maxSurge:**
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö Pod'–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã —Å–≤–µ—Ä—Ö –∂–µ–ª–∞–µ–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫
- **–ó–Ω–∞—á–µ–Ω–∏—è**: –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2) –∏–ª–∏ –ø—Ä–æ—Ü–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 25%)
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: 25%
- **–í–ª–∏—è–Ω–∏–µ**: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### **3. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- **maxUnavailable** –∏ **maxSurge** –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–≤–Ω—ã 0
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Pod'–æ–≤ = replicas - maxUnavailable
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤ = replicas + maxSurge

# 46. –ö–∞–∫ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (pause/resume deployment rollout)?

## üéØ **Pause –∏ Resume –≤ Kubernetes Deployments**

**Pause** –∏ **Resume** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–ª–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –∑–∞—Ç–µ–º –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.

## üèóÔ∏è **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã Pause/Resume:**

### **1. Pause (–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞):**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π rollout –ø—Ä–æ—Ü–µ—Å—Å
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–æ—Å–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö ReplicaSet'–æ–≤
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### **2. Resume (–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ):**
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π rollout
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π ReplicaSet —Å —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### **3. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ù–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–∞–∫ –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

# 47. –ß—Ç–æ —Ç–∞–∫–æ–µ DaemonSets –∏ –∫–æ–≥–¥–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

## üéØ **DaemonSets –≤ Kubernetes**

**DaemonSet** ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Pod'–∞ –Ω–∞ –∫–∞–∂–¥–æ–º (–∏–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö) —É–∑–ª–µ –∫–ª–∞—Å—Ç–µ—Ä–∞. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Deployment, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–µ–ø–ª–∏–∫, DaemonSet –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π Pod —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ.

## üèóÔ∏è **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã DaemonSet:**

### **1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **–û–¥–∏–Ω Pod –Ω–∞ —É–∑–µ–ª**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç Pod –Ω–∞ –∫–∞–∂–¥–æ–º –ø–æ–¥—Ö–æ–¥—è—â–µ–º —É–∑–ª–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —É–∑–ª–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç Pod'—ã
- **Node affinity**: –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏ —á–µ—Ä–µ–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**: –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### **2. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:**
- **–°–æ–∑–¥–∞–Ω–∏–µ**: Pod —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º –ø–æ–¥—Ö–æ–¥—è—â–µ–º —É–∑–ª–µ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç rolling updates
- **–£–¥–∞–ª–µ–Ω–∏–µ**: –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É–∑–ª–∞ Pod –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç —É–ø–∞–≤—à–∏–µ Pod'—ã

### **3. –û—Ç–ª–∏—á–∏—è –æ—Ç Deployment:**
- **Deployment**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–µ–ø–ª–∏–∫ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
- **DaemonSet**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ–º Pod'–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: DaemonSet –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É–∑–ª–æ–≤
- **–†–∞–∑–º–µ—â–µ–Ω–∏–µ**: DaemonSet –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç scheduler –∏ —Ä–∞–∑–º–µ—â–∞–µ—Ç Pod'—ã –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ

# 48. –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å DaemonSets?

## üéØ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DaemonSets –≤ Kubernetes**

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DaemonSets** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Pod'–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ –∫–ª–∞—Å—Ç–µ—Ä–∞. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö Deployment'–æ–≤, DaemonSet –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –æ—Å–æ–±–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –≤—Å–µ—Ö —É–∑–ª–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## üèóÔ∏è **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DaemonSet:**

### **1. RollingUpdate (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
- **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª—è–µ—Ç Pod'—ã –ø–æ –æ–¥–Ω–æ–º—É –∏–ª–∏ –≥—Ä—É–ø–ø–∞–º–∏
- **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å**: –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∏—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–∞–∑–∞ —Å–µ—Ä–≤–∏—Å–∞
- **–û—Ç–∫–∞—Ç**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### **2. OnDelete:**
- **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: Pod'—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏
- **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π —É–∑–µ–ª
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- **–ì–∏–±–∫–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —É–∑–ª—ã –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ

### **3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã RollingUpdate:**
- **maxUnavailable**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö Pod'–æ–≤
- **maxSurge**: –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è DaemonSet (–≤—Å–µ–≥–¥–∞ 0)

# 49. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Deployment –∏ StatefulSet?

## üéØ **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Kubernetes**

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ Kubernetes –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–µ Pod'—ã –Ω–æ–≤—ã–º–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. Deployment –∏ StatefulSet –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∏–∑-–∑–∞ —Ä–∞–∑–ª–∏—á–∏–π –≤ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏: Deployment –¥–ª—è stateless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, StatefulSet –¥–ª—è stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –ø–æ—Ä—è–¥–∫—É –∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

### **1. Deployment —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
- **RollingUpdate**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ Pod'–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **Recreate**: –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö Pod'–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ú–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Pod'–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–ë–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π –ø–æ—Ä—è–¥–∫–∞**: Pod'—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

### **2. StatefulSet —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
- **RollingUpdate**: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–º–µ–Ω–∞ Pod'–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **OnDelete**: –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- **–£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –°—Ç—Ä–æ–≥–∏–π –ø–æ—Ä—è–¥–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–æ—Ç –±–æ–ª—å—à–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –∫ –º–µ–Ω—å—à–µ–º—É)
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏**: Pod'—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∏–º–µ–Ω–∞ –∏ PVC –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

# 50. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (HPA) –≤ Kubernetes?

## üéØ **Horizontal Pod Autoscaler (HPA) –≤ Kubernetes**

**HPA (Horizontal Pod Autoscaler)** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤ –≤ Deployment, ReplicaSet –∏–ª–∏ StatefulSet –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –º–µ—Ç—Ä–∏–∫ CPU, –ø–∞–º—è—Ç–∏ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ production —Å—Ä–µ–¥–µ.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã HPA:**

### **1. Metrics Server:**
- **–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫**: CPU –∏ –ø–∞–º—è—Ç—å –æ—Ç kubelet
- **API –º–µ—Ç—Ä–∏–∫**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç metrics.k8s.io API
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**: –ë–µ–∑ –Ω–µ–≥–æ HPA –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **2. HPA Controller:**
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫**: –ö–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π**: –£–≤–µ–ª–∏—á–∏—Ç—å/—É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤
- **–ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**: –ù–∞ –æ—Å–Ω–æ–≤–µ —Ü–µ–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –º–µ—Ç—Ä–∏–∫

### **3. Target Resources:**
- **Deployment**: –ù–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Å–ª—É—á–∞–π
- **StatefulSet**: –î–ª—è stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **ReplicaSet**: –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–ª–∏–∫–∞–º–∏


## üéØ **Best Practices –¥–ª—è HPA:**

### **1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:**
- **–í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ** resource requests (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è HPA)
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ** resource limits
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** resource requirements –≤ staging —Å—Ä–µ–¥–µ

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç—Ä–∏–∫:**
- **CPU**: 50-70% –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Memory**: 70-80% (–±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ)
- **Custom metrics**: –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### **3. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **Scale up**: –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (60-120 —Å–µ–∫—É–Ω–¥)
- **Scale down**: –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –∏ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ–µ (300-600 —Å–µ–∫—É–Ω–¥)
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ policies** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥:**
- **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** HPA —Å–æ–±—ã—Ç–∏–π
- **–°–æ–∑–¥–∞–π—Ç–µ –∞–ª–µ—Ä—Ç—ã** –Ω–∞ —á–∞—Å—Ç–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ** —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

**HPA —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ production Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö!**

# 51. –ß—Ç–æ —Ç–∞–∫–æ–µ ConfigMaps –∏ –∫–∞–∫ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

## üéØ **ConfigMaps –≤ Kubernetes**

**ConfigMap** - —ç—Ç–æ –æ–±—ä–µ–∫—Ç Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ ConfigMaps:**

### **1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∫–æ–¥–∞**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å**: –û–¥–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ï–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### **2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:**
- **–ü—Ä–æ—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: –°—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞, –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è
- **–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –¶–µ–ª—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ù–∞–±–æ—Ä—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **–ö–æ–º–∞–Ω–¥–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã**: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### **3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- **–†–∞–∑–º–µ—Ä**: –ú–∞–∫—Å–∏–º—É–º 1MB –Ω–∞ ConfigMap
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ (–Ω–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã)
- **Namespace**: ConfigMap –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —Å–≤–æ–µ–º namespace

# 52. –ö–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è ConfigMaps?

## üéØ **–°–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è ConfigMaps –≤ Kubernetes**

**ConfigMaps** –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π. –ö–∞–∂–¥—ã–π —Å–ø–æ—Å–æ–± –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è ConfigMaps:**

### **1. –ò–∑ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ (--from-literal)**
### **2. –ò–∑ —Ñ–∞–π–ª–æ–≤ (--from-file)**
### **3. –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (--from-file=directory)**
### **4. –ß–µ—Ä–µ–∑ YAML/JSON –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã**
### **5. –ò–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (--from-env-file)**
### **6. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ —á–µ—Ä–µ–∑ API**
### **7. –ß–µ—Ä–µ–∑ Helm –∏ Kustomize**


## üéØ **Best Practices –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è ConfigMaps:**

### **1. –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞:**
- **--from-literal**: –ü—Ä–æ—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –±—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **--from-file**: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **--from-env-file**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **YAML –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã**: –°–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, version control
- **Helm/Kustomize**: –®–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã

### **2. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:**
- **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ** —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞** –∏ –º–µ—Ç–∫–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ ConfigMap
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π—Ç–µ** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### **3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã** –≤ ConfigMaps
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ RBAC** –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞
- **–ê—É–¥–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### **4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ** —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ CI/CD
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ staging
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ConfigMaps
- **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ** —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å–æ–∑–¥–∞–Ω–∏—è ConfigMaps –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!**

# 55. –ö–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –≤ Kubernetes?

## üéØ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –≤ Kubernetes**

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏** - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç —Ä–∞–±–æ—Ç—ã —Å Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –∑–∞—â–∏—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏:**

### **1. Encryption at Rest (–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–æ–∫–æ–µ)**
### **2. RBAC (Role-Based Access Control)**
### **3. External Secret Management**
### **4. Secret Rotation (–†–æ—Ç–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤)**
### **5. Audit –∏ Monitoring**
### **6. Network Security**
### **7. GitOps –∏ Sealed Secrets**

## üìä **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ HA –∫–ª–∞—Å—Ç–µ—Ä–∞:**


# 61. Persistent Volumes (PV) –∏ Persistent Volume Claims (PVC)

## üéØ **Persistent Volumes (PV) –∏ Persistent Volume Claims (PVC)**

**Persistent Volumes (PV)** –∏ **Persistent Volume Claims (PVC)** - —ç—Ç–æ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Kubernetes –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö. PV –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∞ PVC - —ç—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **1. Persistent Volume (PV)**
- **–†–µ—Å—É—Ä—Å –∫–ª–∞—Å—Ç–µ—Ä–∞** –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **–ù–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç Pod'–æ–≤** –∏ –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
- **–£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º** –∫–ª–∞—Å—Ç–µ—Ä–∞

### **2. Persistent Volume Claim (PVC)**
- **–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å PV** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Pod'–∞—Ö** –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **3. StorageClass**
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** PV
- **–†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã** —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** –ø—Ä–æ—Ü–µ—Å—Å–∞

## üìä **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:**

| **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç** | **–£—Ä–æ–≤–µ–Ω—å** | **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª** |
|---------------|-------------|----------------|-------------------|
| **PV** | –ö–ª–∞—Å—Ç–µ—Ä | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –æ—Ç Pod'–æ–≤ |
| **PVC** | Namespace | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –°–≤—è–∑–∞–Ω —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º |
| **StorageClass** | –ö–ª–∞—Å—Ç–µ—Ä | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | –®–∞–±–ª–æ–Ω –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è |

## üéØ **Best Practices:**

### **1. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:**
- **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ–±—ä–µ–º—É
- **–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ç–∏–ø** —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—é**
- **–£—á–∏—Ç—ã–≤–∞–π—Ç–µ costs** —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

### **2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ RBAC** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ PVC
- **–®–∏—Ñ—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ** at rest –∏ in transit
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –∞—É–¥–∏—Ä—É–π—Ç–µ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ –∫—Ä–∏—Ç–∏—á–Ω—ã–º –¥–∞–Ω–Ω—ã–º

### **3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ access modes**
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞–∑–º–µ—Ä** PV/PVC
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ StorageClass**
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** I/O

**PV –∏ PVC –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∞–¥–µ–∂–Ω–æ–µ –∏ –≥–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –≤ Kubernetes!**

# 62. Access Modes –¥–ª—è Persistent Volumes

## üéØ **Access Modes –¥–ª—è Persistent Volumes**

**Access Modes** –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ Persistent Volume –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É–∑–ª–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, —Å–∫–æ–ª—å–∫–æ Pod'–æ–≤ –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω PV –∏ –∫–∞–∫ –æ–Ω–∏ –º–æ–≥—É—Ç —Å –Ω–∏–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ Access Modes:**

### **1. ReadWriteOnce (RWO)**
- **–û–¥–∏–Ω —É–∑–µ–ª** –º–æ–∂–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å volume –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏
- **–ù–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π** —Ä–µ–∂–∏–º
- **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö** –∏ stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### **2. ReadOnlyMany (ROX)**
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤** –º–æ–∂–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å volume —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
- **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–ª—è shared –¥–∞–Ω–Ω—ã—Ö**

### **3. ReadWriteMany (RWX)**
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤** –º–æ–∂–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å volume –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏
- **–¢—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤** —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (NFS, CephFS)
- **–°–ª–æ–∂–Ω–µ–µ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏** –∏–∑-–∑–∞ concurrent access

### **4. ReadWriteOncePod (RWOP)**
- **–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω Pod** –º–æ–∂–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å volume –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏
- **–ù–æ–≤—ã–π —Ä–µ–∂–∏–º** (Kubernetes 1.22+)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è** –¥–∞–Ω–Ω—ã—Ö


## üìä **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ Access Modes:**

| **Access Mode** | **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ** | **Concurrent Access** | **Use Cases** |
|-----------------|----------------|----------------------|---------------|
| **ReadWriteOnce** | RWO | –û–¥–∏–Ω —É–∑–µ–ª | –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, StatefulSets |
| **ReadOnlyMany** | ROX | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ (—á—Ç–µ–Ω–∏–µ) | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç |
| **ReadWriteMany** | RWX | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ (—á—Ç–µ–Ω–∏–µ+–∑–∞–ø–∏—Å—å) | Shared —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã |
| **ReadWriteOncePod** | RWOP | –û–¥–∏–Ω Pod | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è |

## üéØ **Best Practices:**

### **1. –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Access Mode:**
- **RWO** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **ROX** –¥–ª—è shared –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- **RWX** —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω
- **RWOP** –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### **2. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º:**
- **Block storage** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ RWO/RWOP
- **File storage** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ä–µ–∂–∏–º—ã
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

### **3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **RWO** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **RWX** –º–æ–∂–µ—Ç –∏–º–µ—Ç—å overhead
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –≤ –≤–∞—à–µ–π —Å—Ä–µ–¥–µ

**Access Modes –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ –≤–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ Kubernetes!**

# 63. StorageClass –∏ Dynamic Provisioning

## üéØ **StorageClass –∏ Dynamic Provisioning**

**StorageClass** - —ç—Ç–æ —Ä–µ—Å—É—Ä—Å Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç "–∫–ª–∞—Å—Å—ã" —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –æ–ø–∏—Å–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –∞ —Ç–∞–∫–∂–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** Persistent Volumes –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **1. StorageClass**
- **–®–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è** PV
- **–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç provisioner** (–ø–æ—Å—Ç–∞–≤—â–∏–∫ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞)
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **–£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏** reclaim –∏ binding

### **2. Dynamic Provisioning**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** PV –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PVC
- **–£—Å—Ç—Ä–∞–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å** –≤ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ PV
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é**
- **–£–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

### **3. Provisioner**
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç PV
- **–°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è —Ç–∏–ø–∞** —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å cloud providers**
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**


## üìä **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ StorageClass –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

| **–ü–∞—Ä–∞–º–µ—Ç—Ä** | **–û–ø–∏—Å–∞–Ω–∏–µ** | **–ó–Ω–∞—á–µ–Ω–∏—è** | **–í–ª–∏—è–Ω–∏–µ** |
|--------------|--------------|--------------|-------------|
| **provisioner** | –ü–æ—Å—Ç–∞–≤—â–∏–∫ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ | CSI driver name | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ |
| **reclaimPolicy** | –ü–æ–ª–∏—Ç–∏–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è | Delete/Retain | –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å PV –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è PVC |
| **volumeBindingMode** | –†–µ–∂–∏–º –ø—Ä–∏–≤—è–∑–∫–∏ | Immediate/WaitForFirstConsumer | –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è PV |
| **allowVolumeExpansion** | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è | true/false | –ú–æ–∂–Ω–æ –ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä |

## üéØ **Best Practices:**

### **1. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ StorageClasses:**
- **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö workloads
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞** –∏ labels
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –≤ annotations
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞

### **2. Dynamic Provisioning:**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WaitForFirstConsumer** –¥–ª—è topology-aware provisioning
- **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ default StorageClass** –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–æ–±—ã—Ç–∏—è** provisioning
- **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ capacity** –∑–∞—Ä–∞–Ω–µ–µ

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º:**
- **–í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é reclaim policy**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ volume expansion** –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ** –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ PV
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ costs** —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

**StorageClass –∏ Dynamic Provisioning –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –≤ Kubernetes!**

# 64. Volume Reclaim Policies

## üéØ **Volume Reclaim Policies**

**Volume Reclaim Policies** –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å Persistent Volume –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –Ω–∏–º PVC —É–¥–∞–ª—è–µ—Ç—Å—è. –≠—Ç–∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ—Ç–µ—Ä–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ Reclaim Policies:**

### **1. Delete**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ** PV –∏ underlying storage
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö PV
- **–û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã** –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- **–†–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö** –ø—Ä–∏ —Å–ª—É—á–∞–π–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏

### **2. Retain**
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç PV** –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è PVC
- **–î–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è** –Ω–∞ underlying storage
- **–¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏** –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** –¥–∞–Ω–Ω—ã—Ö

### **3. Recycle (Deprecated)**
- **–û—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ** –Ω–∞ PV (rm -rf /volume/*)
- **–î–µ–ª–∞–µ—Ç PV –¥–æ—Å—Ç—É–ø–Ω—ã–º** –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–£—Å—Ç–∞—Ä–µ–ª** –∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- **–ó–∞–º–µ–Ω–µ–Ω –Ω–∞ Delete** –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö

# 65. –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Persistent Volumes?

## üéØ **–ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Persistent Volumes?**

**Backup –∏ restore Persistent Volumes** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ä–µ–∑–µ—Ä–≤–Ω–æ–º—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é, –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö snapshot'–æ–≤ –¥–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.

## üåê **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:**

### **1. Volume Snapshots:**
- **CSI Volume Snapshots** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º Kubernetes
- **Cloud Provider Snapshots** - –Ω–∞—Ç–∏–≤–Ω—ã–µ snapshot'—ã –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- **Storage-specific Snapshots** - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Ç–∏–ø–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

### **2. Application-level Backups:**
- **Database Dumps** - –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- **File-level Backups** - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Consistent Backups** - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Å–Ω–∏–º–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### **3. Cluster-level Solutions:**
- **Velero** - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è backup/restore
- **Kasten K10** - enterprise backup platform
- **Stash** - backup operator –¥–ª—è Kubernetes

## üìä **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ HA –∫–ª–∞—Å—Ç–µ—Ä–∞:**

66. # Static vs Dynamic Provisioning

## üéØ **Static vs Dynamic Provisioning**

**Static –∏ Dynamic Provisioning** - —ç—Ç–æ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞ –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é Persistent Volumes –≤ Kubernetes. –û–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ –∏ –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è PV –¥–ª—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ PVC.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

### **Static Provisioning**
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç PV –∑–∞—Ä–∞–Ω–µ–µ**
- **PV —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è PVC**
- **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- **–ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏** —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

### **Dynamic Provisioning**
- **PV —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- **StorageClass –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- **–ì–∏–±–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –Ω–∞ –æ—Å–Ω–æ–≤–µ PVC

## üìä **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:**

| **–ê—Å–ø–µ–∫—Ç** | **Static Provisioning** | **Dynamic Provisioning** |
|------------|--------------------------|---------------------------|
| **–°–æ–∑–¥–∞–Ω–∏–µ PV** | –†—É—á–Ω–æ–µ, –∑–∞—Ä–∞–Ω–µ–µ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ, –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | –í—ã—Å–æ–∫–∞—è |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | –†—É—á–Ω–æ–µ | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | Legacy, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω—É–∂–¥—ã | Cloud-native, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

## üéØ **Best Practices:**

### **Static Provisioning:**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è** legacy –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ capacity** –∑–∞—Ä–∞–Ω–µ–µ
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ PV

### **Dynamic Provisioning:**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è** cloud-native –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ StorageClasses** –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ workloads
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

**Static –∏ Dynamic Provisioning —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º!**

# 67. PVC Resizing (Volume Expansion)

## üéØ **PVC Resizing (Volume Expansion)**

**Volume Expansion** –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä Persistent Volume Claims –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è Pod'–æ–≤ –∏–ª–∏ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—Ç—É—â–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
- **StorageClass –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å** `allowVolumeExpansion: true`
- **CSI driver –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å** volume expansion
- **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å online resize
- **PVC –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏** Bound

### **–¢–∏–ø—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
- **Online Expansion** - –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ Pod'–∞
- **Offline Expansion** - —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Pod'–∞
- **File System Expansion** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ FS


## üìä **–ü—Ä–æ—Ü–µ—Å—Å Volume Expansion:**

| **–®–∞–≥** | **–î–µ–π—Å—Ç–≤–∏–µ** | **–†–µ–∑—É–ª—å—Ç–∞—Ç** |
|----------|--------------|---------------|
| **1** | Patch PVC —Å –Ω–æ–≤—ã–º —Ä–∞–∑–º–µ—Ä–æ–º | PVC.spec.resources.requests.storage –æ–±–Ω–æ–≤–ª–µ–Ω |
| **2** | Kubernetes –≤—ã–∑—ã–≤–∞–µ—Ç CSI driver | Underlying storage —Ä–∞—Å—à–∏—Ä–µ–Ω |
| **3** | PV capacity –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è | PV.spec.capacity.storage —É–≤–µ–ª–∏—á–µ–Ω |
| **4** | –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è | –î–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ —É–≤–µ–ª–∏—á–µ–Ω–æ |

## üéØ **Best Practices:**

### **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ expansion:**
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–æ—Å—Ç** –∑–∞—Ä–∞–Ω–µ–µ
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ expansion** –≤ dev —Å—Ä–µ–¥–µ

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–î–µ–ª–∞–π—Ç–µ backup** –ø–µ—Ä–µ–¥ expansion
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É** StorageClass
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å** expansion

### **Troubleshooting:**
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–±—ã—Ç–∏—è** PVC –∏ PV
- **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ** CSI driver
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É** –ø–æ—Å–ª–µ expansion

**Volume Expansion –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤!**

# 68. Volume Snapshots

## üéØ **Volume Snapshots**

**Volume Snapshots** - —ç—Ç–æ point-in-time –∫–æ–ø–∏–∏ Persistent Volumes, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å backup'—ã, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å volumes. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∏ disaster recovery.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Volume Snapshots:**
- **VolumeSnapshot** - –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ snapshot'–∞
- **VolumeSnapshotContent** - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π snapshot –≤ storage backend
- **VolumeSnapshotClass** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è snapshot'–æ–≤
- **CSI Driver** - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å storage —Å–∏—Å—Ç–µ–º–æ–π

### **–¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π:**
- **Create Snapshot** - —Å–æ–∑–¥–∞–Ω–∏–µ point-in-time –∫–æ–ø–∏–∏
- **Restore from Snapshot** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ PVC –∏–∑ snapshot'–∞
- **Clone Volume** - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–∏ volume —á–µ—Ä–µ–∑ snapshot

# 69. Volume Mounting Issues

## üéØ **Volume Mounting Issues**

**Volume mounting issues** - —ç—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø—Ä–æ–±–ª–µ–º —Å storage backend, permissions –∏–ª–∏ resource constraints. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üèóÔ∏è **–¢–∏–ø—ã –ø—Ä–æ–±–ª–µ–º —Å mounting:**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- **Permission Issues** - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- **Storage Backend Problems** - –ø—Ä–æ–±–ª–µ–º—ã —Å underlying storage
- **Configuration Errors** - –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **Resource Constraints** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **Node-specific Issues** - –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —É–∑–ª–æ–≤

### **–°–∏–º–ø—Ç–æ–º—ã –ø—Ä–æ–±–ª–µ–º:**
- **Pod –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ ContainerCreating**
- **Mount timeout errors**
- **Permission denied errors**
- **Volume attachment failures**

## üéØ **Best Practices:**

### **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:**
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π securityContext** —Å fsGroup
- **–í–∞–ª–∏–¥–∞—Ü–∏—è StorageClass** –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ storage usage**
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ dev —Å—Ä–µ–¥–µ**

### **–ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏–π** –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å
- **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤** Pod'–æ–≤ –∏ CSI drivers
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ permissions** –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ volume mounting issues –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!**

# 70. Storage Best Practices –≤ Kubernetes

## üéØ **Storage Best Practices –≤ Kubernetes**

**Storage Best Practices** - —ç—Ç–æ –Ω–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ Kubernetes. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è production-ready –∫–ª–∞—Å—Ç–µ—Ä–æ–≤.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

### **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ Best Practices:**
- **Performance Optimization** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Security & Access Control** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
- **Reliability & Backup** - –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Cost Optimization** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç
- **Monitoring & Observability** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

### **–ö–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**
- **Right-sizing storage** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞
- **Storage class selection** - –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ storage class
- **Data lifecycle management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –¥–∞–Ω–Ω—ã—Ö
- **Disaster recovery planning** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**Storage Best Practices –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∞–¥–µ–∂–Ω—É—é, –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ Kubernetes!**

## üéØ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ –ø–æ Storage –≤ Kubernetes:**

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ **22 –∫–ª—é—á–µ–≤—ã—Ö –∞—Å–ø–µ–∫—Ç–∞** —Ä–∞–±–æ—Ç—ã —Å storage –≤ Kubernetes:

1. **–û—Å–Ω–æ–≤—ã** - PV, PVC, StorageClass
2. **–¢–∏–ø—ã volumes** - —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è
3. **Dynamic provisioning** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ storage
4. **Access modes** - —Ä–µ–∂–∏–º—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
5. **Reclaim policies** - –ø–æ–ª–∏—Ç–∏–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
6. **Volume expansion** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ storage
7. **Snapshots** - —Å–æ–∑–¥–∞–Ω–∏–µ point-in-time –∫–æ–ø–∏–π
8. **Troubleshooting** - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
9. **Best practices** - –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã

**–≠—Ç–∏ –∑–Ω–∞–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è production-ready Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–æ–≤!**

# 71. Multiple Namespaces –≤ Kubernetes

## üéØ **Multiple Namespaces –≤ Kubernetes**

**Multiple Namespaces** - —ç—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ namespaces –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ production-ready –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

### **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
- **Environment Separation** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥ (dev, staging, prod)
- **Team Isolation** - –∏–∑–æ–ª—è—Ü–∏—è –∫–æ–º–∞–Ω–¥ –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
- **Application Boundaries** - –≥—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Security Zones** - –∑–æ–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Resource Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

### **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **Isolation** - –∏–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- **Security** - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Organization** - –ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **Resource Control** - –∫–≤–æ—Ç—ã –∏ –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤

# 72. Resource Quotas –∏ Limit Ranges –≤ Kubernetes

## üéØ **Resource Quotas –∏ Limit Ranges –≤ Kubernetes**

**Resource Quotas** –∏ **Limit Ranges** - —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU, –ø–∞–º—è—Ç–∏, storage –∏ –¥—Ä—É–≥–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ namespace –∏ –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –∏ production-ready —Å—Ä–µ–¥.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **Resource Quotas:**
- **Namespace-level limits** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ namespace
- **Aggregate resource control** - –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ–≤–æ–∫—É–ø–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **Object count limits** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤
- **Storage quotas** - –∫–≤–æ—Ç—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ storage

### **Limit Ranges:**
- **Individual object limits** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- **Default values** - –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **Min/Max constraints** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **Request/Limit ratios** - —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É requests –∏ limits

# 73. RBAC (Role-Based Access Control) –≤ Kubernetes

## üéØ **RBAC (Role-Based Access Control) –≤ Kubernetes**

**RBAC** - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ Kubernetes, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —Ä–æ–ª—è—Ö, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –∫–∞–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏. RBAC —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ production-ready Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã RBAC:**

### **–ö–ª—é—á–µ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã:**
- **Role/ClusterRole** - –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (—á—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å)
- **RoleBinding/ClusterRoleBinding** - —Å–≤—è–∑—ã–≤–∞—é—Ç —Ä–æ–ª–∏ —Å —Å—É–±—ä–µ–∫—Ç–∞–º–∏ (–∫—Ç–æ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å)
- **ServiceAccount** - –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **User/Group** - –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –¥–ª—è –ª—é–¥–µ–π

### **–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã:**
- **Least Privilege** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞
- **Explicit Allow** - –≤—Å–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **Namespace Isolation** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –ø–æ namespace
- **Audit Trail** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π


## üîß **Best Practices –¥–ª—è RBAC:**

### **–ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π:**
- **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞**
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å namespace-specific —Ä–æ–ª–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ**
- **–ò–∑–±–µ–≥–∞—Ç—å cluster-admin –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∑–∞–¥–∞—á**
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –∞—É–¥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**

### **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–æ–ª–µ–π:**
- **–°–æ–∑–¥–∞–≤–∞—Ç—å —Ä–æ–ª–∏ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º, –∞ –Ω–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º**
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ —Ä–æ–ª–µ–π**
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏**
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–∞–≤–∞ –≤ –æ–¥–Ω–æ–π —Ä–æ–ª–∏**

### **ServiceAccounts:**
- **–°–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ ServiceAccounts –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
- **–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å default ServiceAccount –≤ production**
- **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å automountServiceAccountToken –≥–¥–µ –Ω–µ –Ω—É–∂–Ω–æ**
- **–†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã**

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞—É–¥–∏—Ç:**
- **–í–∫–ª—é—á–∏—Ç—å audit logging –¥–ª—è RBAC —Å–æ–±—ã—Ç–∏–π**
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞**
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏–≤—è–∑–∫–∏ —Ä–æ–ª–µ–π**
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ compliance**

**RBAC –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º Kubernetes!**

# 74. Role vs ClusterRole –≤ Kubernetes

## üéØ **Role vs ClusterRole –≤ Kubernetes**

**Role** –∏ **ClusterRole** - —ç—Ç–æ –¥–≤–∞ —Ç–∏–ø–∞ —Ä–æ–ª–µ–π –≤ RBAC —Å–∏—Å—Ç–µ–º–µ Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º. –û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è (scope): Role —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞–º–∫–∞—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ namespace, –∞ ClusterRole –¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

### **Role (Namespace-scoped):**
- **–û–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è**: –¢–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ namespace
- **–†–µ—Å—É—Ä—Å—ã**: Namespace-scoped —Ä–µ—Å—É—Ä—Å—ã (pods, services, deployments)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–∞–≤ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º namespace
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### **ClusterRole (Cluster-scoped):**
- **–û–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è**: –í–µ—Å—å –∫–ª–∞—Å—Ç–µ—Ä
- **–†–µ—Å—É—Ä—Å—ã**: Cluster-scoped —Ä–µ—Å—É—Ä—Å—ã (nodes, namespaces, clusterroles)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –∫—Ä–æ—Å—Å-namespace –¥–æ—Å—Ç—É–ø–∞
- **–ì–∏–±–∫–æ—Å—Ç—å**: –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å RoleBinding –¥–ª—è namespace-specific –¥–æ—Å—Ç—É–ø–∞

### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Role:**
- **–ò–∑–æ–ª—è—Ü–∏—è –ø–æ namespace** - –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É namespace
- **–ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤** - –¥–∞—Ç—å –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –∏—Ö namespace
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã

### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ClusterRole:**
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ nodes, namespaces
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç—Ä–∏–∫–∞–º –ø–æ –≤—Å–µ–º—É –∫–ª–∞—Å—Ç–µ—Ä—É
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ RBAC, storage
- **Cross-namespace –¥–æ—Å—Ç—É–ø** - —á—Ç–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤–æ –≤—Å–µ—Ö namespace

### **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
```bash
# ClusterRole —Å RoleBinding –¥–ª—è namespace-specific –¥–æ—Å—Ç—É–ø–∞
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: monitoring-binding
  namespace: production
subjects:
- kind: ServiceAccount
  name: prometheus
roleRef:
  kind: ClusterRole  # ClusterRole –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ RoleBinding
  name: pod-reader   # –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ pods –≤ production namespace
```

**Role –∏ ClusterRole –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≥–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ —Å —É—á–µ—Ç–æ–º –æ–±–ª–∞—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è!**

# 75. ServiceAccounts –≤ Kubernetes

## üéØ **ServiceAccounts –≤ Kubernetes**

**ServiceAccount** - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –≤ pods. ServiceAccounts —è–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ, –ø–æ–∑–≤–æ–ª—è—è –∏–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å Kubernetes API.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

### **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- **Pod Identity** - –∫–∞–∂–¥—ã–π pod –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ServiceAccount –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **API Access** - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç –¥–æ—Å—Ç—É–ø –∫ Kubernetes API
- **Token-based Auth** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **RBAC Integration** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π RBAC –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ServiceAccount:**
- **ServiceAccount Object** - –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç –≤ Kubernetes
- **Secret with Token** - —Å–æ–¥–µ—Ä–∂–∏—Ç JWT —Ç–æ–∫–µ–Ω –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **CA Certificate** - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API —Å–µ—Ä–≤–µ—Ä–∞
- **Namespace** - –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É namespace



## üîß **Best Practices:**

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–°–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ ServiceAccounts –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π**
- **–û—Ç–∫–ª—é—á–∞—Ç—å automountServiceAccountToken –≥–¥–µ –Ω–µ –Ω—É–∂–Ω–æ**
- **–†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã**

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ ServiceAccounts**
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ ServiceAccount**
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å ServiceAccounts –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º**
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤**

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RBAC:**
- **–°–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è ServiceAccounts**
- **–ò–∑–±–µ–≥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è cluster-admin**
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –ø–µ—Ä–µ–¥ production**
- **–ê—É–¥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤—è–∑–∫–∏ —Ä–æ–ª–µ–π**

**ServiceAccounts –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Kubernetes!**

# 76. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö RBAC –ø–æ–ª–∏—Ç–∏–∫ –≤ Kubernetes

## üéØ **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö RBAC –ø–æ–ª–∏—Ç–∏–∫ –≤ Kubernetes**

**Custom RBAC policies** - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ä–æ–ª–∏ –∏ –ø—Ä–∏–≤—è–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö RBAC –ø–æ–ª–∏—Ç–∏–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≥—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–æ–∑–¥–∞–Ω–∏—è RBAC –ø–æ–ª–∏—Ç–∏–∫:**

### **–≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- **–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π
- **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–µ–π** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–∏—Ç–∏–∫** - –Ω–∞–ø–∏—Å–∞–Ω–∏–µ YAML –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–∏—Ç–∏–∫:**
- **Custom Roles** - —Ä–æ–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
- **Custom ClusterRoles** - –∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **Targeted RoleBindings** - —Ç–æ—á–µ—á–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏ —Ä–æ–ª–µ–π
- **Policy Templates** - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üéØ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:**

### **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ä–æ–ª–µ–π:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
kubectl create role developer --verb=get,list,watch,create,update,patch,delete --resource=pods,services,deployments

# –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–Ω—É—é —Ä–æ–ª—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
kubectl create clusterrole monitoring --verb=get,list,watch --resource=nodes,pods,services

# –ü—Ä–∏–≤—è–∑–∞—Ç—å —Ä–æ–ª—å –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
kubectl create rolebinding developer-binding --role=developer --user=john.doe
```

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤:**
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–æ–ª–∏ –∏–∑ —à–∞–±–ª–æ–Ω–∞
./generate-rbac-policy.sh application webapp hashfoundry-dev webapp-sa

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏
kubectl apply -f webapp-rbac.yaml
```

## üîß **Best Practices:**

### **–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏** - –¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π** - —Ä–∞–∑–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∞–≤
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ RBAC –ø–æ–ª–∏—Ç–∏–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏!**

# 77. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ RBAC —Ä–æ–ª–∏ –≤ Kubernetes

## üéØ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ RBAC —Ä–æ–ª–∏ –≤ Kubernetes**

**Default RBAC roles** - —ç—Ç–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –≤ Kubernetes, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞. –≠—Ç–∏ —Ä–æ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —Å–ª—É–∂–∞—Ç –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–∏—Ç–∏–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## üèóÔ∏è **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–æ–ª–µ–π:**

### **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ–ª–∏:**
- **cluster-admin** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É –∫–ª–∞—Å—Ç–µ—Ä—É
- **admin** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ namespace
- **edit** - –ø—Ä–∞–≤–∞ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **view** - –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ

### **–°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **system:*** - —Ä–æ–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Kubernetes
- **system:node** - —Ä–æ–ª–∏ –¥–ª—è —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **system:kube-*** - —Ä–æ–ª–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ control plane

## üîß **Best Practices:**

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–æ–ª–µ–π:**
- **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–æ–ª–∏** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
- **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª–∏** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ RoleBindings –¥–ª—è –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–ò–∑–±–µ–≥–∞—Ç—å cluster-admin** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞** - –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ –ø–µ—Ä–µ–¥ production

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π** - –Ω–∞—á–∏–Ω–∞—Ç—å —Å view, –ø–æ–≤—ã—à–∞—Ç—å –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫—Ç–æ –∏–º–µ–µ—Ç –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∞
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ RBAC —Ä–æ–ª–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∞–¥–µ–∂–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Kubernetes!**

# 78. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å RBAC –ø—Ä–∞–≤–∞–º–∏ –≤ Kubernetes

## üéØ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å RBAC –ø—Ä–∞–≤–∞–º–∏ –≤ Kubernetes**

**RBAC troubleshooting** - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –≤—ã—è–≤–ª–µ–Ω–∏—è –∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ Kubernetes. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ RBAC –ø—Ä–æ–±–ª–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã RBAC –ø—Ä–æ–±–ª–µ–º:**

### **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–±–ª–µ–º:**
- **Access Denied** - –æ—Ç–∫–∞–∑ –≤ –¥–æ—Å—Ç—É–ø–µ –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- **Insufficient Permissions** - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∞
- **Role Conflicts** - –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–æ–ª–µ–π
- **Binding Issues** - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∏–≤—è–∑–∫–∞–º–∏ —Ä–æ–ª–µ–π

### **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
- **kubectl auth can-i** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **kubectl describe** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–æ–ª—è—Ö
- **kubectl get** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–æ–ª–µ–π –∏ –ø—Ä–∏–≤—è–∑–æ–∫
- **Audit logs** - –ª–æ–≥–∏ –∞—É–¥–∏—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

# 79. –ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –≤ Kubernetes RBAC

## üéØ **–ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –≤ Kubernetes RBAC**

**Principle of Least Privilege (PoLP)** - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —Å–∏—Å—Ç–µ–º—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∞–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Kubernetes RBAC —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–Ω–æ —Ç–µ—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã, –∏ –Ω–µ –±–æ–ª–µ–µ —Ç–æ–≥–æ.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã PoLP –≤ Kubernetes:**

### **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞** - —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∞** - –ø—Ä–∞–≤–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- **–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç** - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä

### **–£—Ä–æ–≤–Ω–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
- **User Level** - –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **ServiceAccount Level** - –ø—Ä–∞–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Namespace Level** - –∏–∑–æ–ª—è—Ü–∏—è –ø–æ namespace
- **Resource Level** - –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º

## üîß **Best Practices –¥–ª—è PoLP:**

### **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–µ–π:**
- **–ù–∞—á–∏–Ω–∞—Ç—å —Å –º–∏–Ω–∏–º—É–º–∞** - –¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å resourceNames** - –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º
- **–ò–∑–±–µ–≥–∞—Ç—å wildcards** - –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "*" –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è** - –æ–±—ä—è—Å–Ω—è—Ç—å –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º:**
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å expiration dates –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∞** - —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è dev/staging/prod
- **–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –æ—á–∏—â–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–∞–≤–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è PoLP

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞—É–¥–∏—Ç:**
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞** - –≤–∫–ª—é—á–∏—Ç—å audit logging
- **–ê–ª–µ—Ä—Ç—ã –Ω–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø** - –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ cluster-admin
- **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π review** - —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø—Ä–∞–≤–∞
- **Compliance –æ—Ç—á–µ—Ç—ã** - –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã –æ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ PoLP

**–ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π - –æ—Å–Ω–æ–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Kubernetes!**


# 80. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è multi-tenancy —Å –ø–æ–º–æ—â—å—é namespaces –≤ Kubernetes

## üéØ **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è multi-tenancy —Å –ø–æ–º–æ—â—å—é namespaces –≤ Kubernetes**

**Multi-tenancy** - —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞–º (tenants) –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É Kubernetes. Namespaces —Å–ª—É–∂–∞—Ç –æ—Å–Ω–æ–≤–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –∏–∑–æ–ª—è—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ multi-tenancy, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤, —Å–µ—Ç–µ–≤—É—é –∏–∑–æ–ª—è—Ü–∏—é –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã multi-tenancy:**

### **–£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏:**
- **Namespace Isolation** - –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **Network Isolation** - —Å–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É tenants
- **Resource Isolation** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ tenant
- **Security Isolation** - RBAC –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **–¢–∏–ø—ã multi-tenancy:**
- **Soft Multi-tenancy** - –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ tenants, –±–∞–∑–æ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è
- **Hard Multi-tenancy** - –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ tenants, —Å—Ç—Ä–æ–≥–∞—è –∏–∑–æ–ª—è—Ü–∏—è
- **Hybrid Multi-tenancy** - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥

# 81. Pod Security Standards –≤ Kubernetes

## üéØ **Pod Security Standards –≤ Kubernetes**

**Pod Security Standards (PSS)** - —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–º–µ–Ω–∏–ª —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ Pod Security Policies. PSS –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è pods: Privileged, Baseline –∏ Restricted. –≠—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ namespace –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ pods.

## üèóÔ∏è **–¢—Ä–∏ —É—Ä–æ–≤–Ω—è Pod Security Standards:**

### **1. Privileged (–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π):**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–Ω—ã–µ workloads, –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

### **2. Baseline (–ë–∞–∑–æ–≤—ã–π):**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –û–±—ã—á–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –ó–∞–ø—Ä–µ—â–∞–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

### **3. Restricted (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π):**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –°–ª–µ–¥—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏


## üîß **Best Practices –¥–ª—è Pod Security Standards:**

### **–í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- **Privileged**: –¢–æ–ª—å–∫–æ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (CNI, CSI, monitoring agents)
- **Baseline**: –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Restricted**: –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∏ production workloads

### **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Pod Security Standards:**
- **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥** - –Ω–∞—á–∞—Ç—å —Å audit –∏ warn —Ä–µ–∂–∏–º–æ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **–û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CI/CD –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

**Pod Security Standards –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ pods –≤ Kubernetes!**

# 82. –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Pod Security Policies –∏ Pod Security Standards

## üéØ **–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Pod Security Policies –∏ Pod Security Standards**

**Pod Security Policies (PSP)** –±—ã–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —É–¥–∞–ª–µ–Ω –≤ –≤–µ—Ä—Å–∏–∏ 1.25. **Pod Security Standards (PSS)** - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ PSP, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ pods.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

### **Pod Security Policies (–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ):**
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –¢—Ä–µ–±–æ–≤–∞–ª–∏ RBAC –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–ì–∏–±–∫–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è, –Ω–æ —Å–ª–æ–∂–Ω–∞—è –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ß–µ—Ä–µ–∑ admission controller
- **–°—Ç–∞—Ç—É—Å**: –£–¥–∞–ª–µ–Ω—ã –≤ Kubernetes 1.25

### **Pod Security Standards (–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ):**
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ Kubernetes
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è**: –¢—Ä–∏ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Ä–æ–≤–Ω—è
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ß–µ—Ä–µ–∑ namespace labels
- **–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è

# 83. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ Kubernetes

## üéØ **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ Kubernetes**

**Network Segmentation** –≤ Kubernetes - —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞. –û—Å–Ω–æ–≤–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è Network Policies, Namespaces, Service Mesh –∏ CNI –ø–ª–∞–≥–∏–Ω—ã.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–µ—Ç–µ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏:**

### **1. Network Policies:**
- **Ingress Rules** - –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- **Egress Rules** - –∫–æ–Ω—Ç—Ä–æ–ª—å –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- **Pod Selectors** - –≤—ã–±–æ—Ä —Ü–µ–ª–µ–≤—ã—Ö pods
- **Namespace Selectors** - –º–µ–∂–Ω–∞–ºespace –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è

### **2. Namespace Isolation:**
- **–õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- **RBAC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
- **Resource Quotas** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **Network Policies** - —Å–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è



## üîß **Best Practices –¥–ª—è —Å–µ—Ç–µ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏:**

### **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
- **–ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π** - —Ä–∞–∑—Ä–µ—à–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π —Ç—Ä–∞—Ñ–∏–∫
- **–ó–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º (web, api, db)
- **–ò–∑–æ–ª—è—Ü–∏—è –ø–æ —Å—Ä–µ–¥–∞–º** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–æ–Ω—ã –¥–ª—è dev/staging/prod
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ–∂–∑–æ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–∏—Ç–∏–∫:**
- **Default deny** - –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—Å—ë –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **Explicit allow** - —è–≤–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ** - –≤—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∞—Ç—å DNS –∑–∞–ø—Ä–æ—Å—ã
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø** - —Ä–∞–∑—Ä–µ—à–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏

### **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:**
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ CI/CD pipeline
- **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ** - –Ω–∞—á–∞—Ç—å —Å audit —Ä–µ–∂–∏–º–∞
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã—ã
- **–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª–∏—Ç–∏–∫–∞–º

### **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **CNI –ø–ª–∞–≥–∏–Ω—ã** - Calico, Cilium –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- **Service Mesh** - Istio, Linkerd –¥–ª—è L7 –ø–æ–ª–∏—Ç–∏–∫
- **Monitoring** - Prometheus –¥–ª—è –º–µ—Ç—Ä–∏–∫ —Å–µ—Ç–∏
- **Visualization** - Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞

**–°–µ—Ç–µ–≤–∞—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è - –æ—Å–Ω–æ–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Kubernetes!**

# 84. Admission Controllers –≤ Kubernetes

## üéØ **Admission Controllers –≤ Kubernetes**

**Admission Controllers** - —ç—Ç–æ –ø–ª–∞–≥–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ Kubernetes API –ø–æ—Å–ª–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–æ –¥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ etcd. –û–Ω–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å (mutating) –∏–ª–∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å (validating) –∑–∞–ø—Ä–æ—Å—ã, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è.

## üèóÔ∏è **–¢–∏–ø—ã Admission Controllers:**

### **1. Mutating Admission Controllers:**
- **–ò–∑–º–µ–Ω—è—é—Ç –æ–±—ä–µ–∫—Ç—ã** - –¥–æ–±–∞–≤–ª—è—é—Ç/–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –ø–æ–ª—è
- **–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏** - –¥–æ validating controllers
- **–ü—Ä–∏–º–µ—Ä—ã**: DefaultStorageClass, NamespaceLifecycle
- **Webhook –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - MutatingAdmissionWebhook

### **2. Validating Admission Controllers:**
- **–í–∞–ª–∏–¥–∏—Ä—É—é—Ç –æ–±—ä–µ–∫—Ç—ã** - –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è—é—Ç
- **–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ mutating** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- **–ü—Ä–∏–º–µ—Ä—ã**: ResourceQuota, PodSecurityPolicy
- **Webhook –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - ValidatingAdmissionWebhook

# 85. Runtime Security Monitoring –≤ Kubernetes

## üéØ **Runtime Security Monitoring –≤ Kubernetes**

**Runtime Security Monitoring** - —ç—Ç–æ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ pods –≤–æ –≤—Ä–µ–º—è –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π, —É–≥—Ä–æ–∑ –∏ –Ω–∞—Ä—É—à–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞, —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Runtime Security:**

### **1. Behavioral Analysis:**
- **System Calls Monitoring** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ syscalls
- **Process Monitoring** - –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **Network Activity** - –∞–Ω–∞–ª–∏–∑ —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- **File System Access** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### **2. Threat Detection:**
- **Anomaly Detection** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- **Malware Detection** - –ø–æ–∏—Å–∫ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û
- **Privilege Escalation** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
- **Data Exfiltration** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö



## üîß **Best Practices –¥–ª—è Runtime Security:**

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ:**
- **Comprehensive coverage** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö nodes
- **Real-time detection** - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–≥—Ä–æ–∑
- **Behavioral analysis** - –∞–Ω–∞–ª–∏–∑ –∞–Ω–æ–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- **Threat intelligence** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å threat feeds

### **–†–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã:**
- **Automated response** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Alert prioritization** - –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤
- **Incident workflows** - –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **Forensic capabilities** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:**
- **Regular rule updates** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **False positive tuning** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- **Performance monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Security training** - –æ–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- **SIEM integration** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SIEM —Å–∏—Å—Ç–µ–º–∞–º–∏
- **Compliance reporting** - –æ—Ç—á–µ—Ç—ã –æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏
- **Threat hunting** - –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ —É–≥—Ä–æ–∑
- **Security orchestration** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**Runtime Security Monitoring –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –∑–∞—â–∏—Ç—É –æ—Ç —É–≥—Ä–æ–∑ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!**

# 86. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞

## üéØ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞**

**Cluster Upgrades** - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∏—Å–∫–æ–≤ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

### **1. Control Plane Components:**
- **kube-apiserver** - API —Å–µ—Ä–≤–µ—Ä
- **etcd** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞
- **kube-controller-manager** - –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- **kube-scheduler** - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

### **2. Node Components:**
- **kubelet** - –∞–≥–µ–Ω—Ç –Ω–∞ —É–∑–ª–∞—Ö
- **kube-proxy** - —Å–µ—Ç–µ–≤–æ–π –ø—Ä–æ–∫—Å–∏
- **Container Runtime** - —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **CNI Plugins** - —Å–µ—Ç–µ–≤—ã–µ –ø–ª–∞–≥–∏–Ω—ã

# 87. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Kubernetes

## üéØ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Kubernetes**

**Resource Management** - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–æ–º, –≤–∫–ª—é—á–∞—é—â–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, –ø–∞–º—è—Ç—å, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ) –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üèóÔ∏è **–¢–∏–ø—ã —Ä–µ—Å—É—Ä—Å–æ–≤:**

### **1. Compute Resources:**
- **CPU** - –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è
- **Memory** - –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å
- **Ephemeral Storage** - –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Extended Resources** - –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (GPU, FPGA)

### **2. Resource Specifications:**
- **Requests** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Limits** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **Quality of Service** - –∫–ª–∞—Å—Å—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- **Resource Quotas** - –∫–≤–æ—Ç—ã –Ω–∞ namespace


## üîß **Best Practices –¥–ª—è Resource Management:**

### **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:**
- **Right-sizing** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤
- **Resource requests** - –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å requests
- **Resource limits** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ä–∞–∑—É–º–Ω—ã–µ limits
- **QoS classes** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ QoS

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- **Continuous monitoring** - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Resource utilization** - –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **Cost optimization** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç
- **Performance tuning** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- **HPA implementation** - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **VPA consideration** - —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ VPA
- **Cluster autoscaling** - –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **Resource policies** - –ø–æ–ª–∏—Ç–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏

### **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:**
- **Regular reviews** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–∑–æ—Ä—ã
- **Capacity planning** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏
- **Resource governance** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- **Documentation** - –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ - –æ—Å–Ω–æ–≤–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã Kubernetes!**

# 88. Disaster Recovery –¥–ª—è Kubernetes

## üéØ **Disaster Recovery –¥–ª—è Kubernetes**

**Disaster Recovery (DR)** - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å –º–µ—Ä –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–æ—Å–ª–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏—Ö —Å–±–æ–µ–≤, –≤–∫–ª—é—á–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã DR:**

### **1. Backup Components:**
- **etcd snapshots** - —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞
- **Application data** - –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Configuration** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
- **Persistent volumes** - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ç–æ–º–∞

### **2. Recovery Strategies:**
- **RTO (Recovery Time Objective)** - –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- **RPO (Recovery Point Objective)** - —Ç–æ—á–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- **Multi-region deployment** - –º—É–ª—å—Ç–∏—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- **Cross-cluster replication** - —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏

# 89. Kubernetes –≤ Production

## üéØ **Kubernetes –≤ Production**

**Production Kubernetes** - —ç—Ç–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üèóÔ∏è **–ö–ª—é—á–µ–≤—ã–µ –æ–±–ª–∞—Å—Ç–∏:**

### **1. Infrastructure & Architecture:**
- **High Availability** - –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- **Scalability** - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- **Performance** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Network design** - –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏

### **2. Security & Compliance:**
- **RBAC** - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
- **Network policies** - —Å–µ—Ç–µ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏
- **Pod security** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–¥–æ–≤
- **Compliance** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

# 90. Troubleshooting Kubernetes

## üéØ **Troubleshooting Kubernetes**

**Kubernetes Troubleshooting** - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ, –∞–Ω–∞–ª–∏–∑—É –∏ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ, –≤–∫–ª—é—á–∞—é—â–∏–π –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –ø–æ–∏—Å–∫–∞ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ best practices –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.

## üèóÔ∏è **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–±–ª–µ–º:**

### **1. Cluster-level Issues:**
- **API server problems** - –ø—Ä–æ–±–ª–µ–º—ã API —Å–µ—Ä–≤–µ—Ä–∞
- **etcd issues** - –ø—Ä–æ–±–ª–µ–º—ã —Å etcd
- **Network connectivity** - —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **Node failures** - —Å–±–æ–∏ —É–∑–ª–æ–≤

### **2. Application-level Issues:**
- **Pod failures** - —Å–±–æ–∏ –ø–æ–¥–æ–≤
- **Service discovery** - –ø—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **Resource constraints** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **Configuration errors** - –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏


## üìù **Best Practices –¥–ª—è Troubleshooting:**

### **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –≤–µ–¥–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- **Monitoring** - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ comprehensive –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Logging** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Backup** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

### **–ü—Ä–æ—Ü–µ—Å—Å:**
- **Systematic approach** - —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥
- **Documentation** - –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
- **Root cause analysis** - –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω
- **Prevention** - –º–µ—Ä—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è

### **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- **kubectl** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- **Prometheus/Grafana** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **Jaeger/Zipkin** - —Ç—Ä–µ–π—Å–∏–Ω–≥
- **ELK/EFK Stack** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π:**
```bash
# –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
./kubernetes-troubleshooting-toolkit.sh quick

# –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç
./kubernetes-troubleshooting-toolkit.sh report

# –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
./emergency-diagnostics.sh

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø—Ä–æ–±–ª–µ–º
./common-kubernetes-fixes.sh <problem-type>
```

**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ troubleshooting - –∫–ª—é—á –∫ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞!**

# 91. Kubernetes Node Selection

## üéØ **Kubernetes Node Selection**

**Node Selection** –≤ Kubernetes - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —É–∑–ª–∞ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è Pod'–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º (kube-scheduler) –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤, –≤–∫–ª—é—á–∞—è —Ä–µ—Å—É—Ä—Å—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Node Selection:**

### **1. Scheduler Components:**
- **kube-scheduler** - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
- **Scheduling Framework** - —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Plugins** - –º–æ–¥—É–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **Profiles** - –ø—Ä–æ—Ñ–∏–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### **2. Selection Criteria:**
- **Resource requirements** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- **Node constraints** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–∑–ª–æ–≤
- **Affinity rules** - –ø—Ä–∞–≤–∏–ª–∞ —Å—Ä–æ–¥—Å—Ç–≤–∞
- **Taints and tolerations** - –º–µ—Ç–∫–∏ –∏ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç–∏


## üîß **Node Selection Strategies:**

### **1. Resource-based Selection:**
- **CPU/Memory requirements** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- **Storage requirements** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É
- **Network bandwidth** - –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ç–∏
- **GPU/Special hardware** - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

### **2. Location-based Selection:**
- **Zone/Region awareness** - –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å –æ –∑–æ–Ω–∞—Ö
- **Rack diversity** - —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å—Ç–æ–µ–∫
- **Network topology** - —Ç–æ–ø–æ–ª–æ–≥–∏—è —Å–µ—Ç–∏
- **Latency requirements** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∑–∞–¥–µ—Ä–∂–∫–µ

### **3. Workload-based Selection:**
- **Application type** - —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Performance tier** - —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Security requirements** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Compliance needs** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

## üìä **Monitoring Node Selection:**

### **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- **Scheduling latency** - –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **Failed scheduling attempts** - –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- **Node utilization** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–∑–ª–æ–≤
- **Pod distribution** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–æ–≤

### **Troubleshooting:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å pending pods
kubectl get pods --all-namespaces --field-selector=status.phase=Pending

# –ê–Ω–∞–ª–∏–∑ —Å–æ–±—ã—Ç–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
kubectl get events --field-selector reason=FailedScheduling

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã —É–∑–ª–æ–≤
kubectl describe nodes | grep -A 5 "Allocated resources"
```

**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π node selection –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ workloads –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ!**

# 92. Node Affinity –∏ Pod Affinity

## üéØ **Node Affinity –∏ Pod Affinity**

**Affinity** –≤ Kubernetes - —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è Pod'–æ–≤ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É–∑–ª–∞—Ö (Node Affinity) –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥–∏—Ö Pod'–æ–≤ (Pod Affinity), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ workloads.

## üèóÔ∏è **–¢–∏–ø—ã Affinity:**

### **1. Node Affinity:**
- **requiredDuringSchedulingIgnoredDuringExecution** - –∂–µ—Å—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **preferredDuringSchedulingIgnoredDuringExecution** - –º—è–≥–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
- **Node selectors** - —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —É–∑–ª–æ–≤
- **Label matching** - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–∫

### **2. Pod Affinity/Anti-Affinity:**
- **podAffinity** - –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ –∫ –¥—Ä—É–≥–∏–º Pod'–∞–º
- **podAntiAffinity** - –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö Pod'–æ–≤
- **Topology domains** - —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥–æ–º–µ–Ω—ã
- **Label selectors** - —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –º–µ—Ç–æ–∫


## üîß **Best Practices –¥–ª—è Affinity:**

### **Node Affinity:**
- **Use labels wisely** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
- **Combine required and preferred** - –∫–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –∂–µ—Å—Ç–∫–∏–µ –∏ –º—è–≥–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞
- **Consider node lifecycle** - —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —É–∑–ª–æ–≤
- **Plan for scaling** - –ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### **Pod Affinity:**
- **Use topology keys** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–∏ —Ç–æ–ø–æ–ª–æ–≥–∏–∏
- **Balance performance and availability** - –±–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- **Consider resource constraints** - —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **Monitor placement** - –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ

### **Anti-Affinity:**
- **Ensure high availability** - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–π—Ç–µ –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- **Use appropriate topology** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é —Ç–æ–ø–æ–ª–æ–≥–∏—é
- **Consider failure domains** - —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –¥–æ–º–µ–Ω—ã —Å–±–æ–µ–≤
- **Plan for maintenance** - –ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

## üìä **Monitoring Affinity:**

### **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- **Pod placement distribution** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–æ–¥–æ–≤
- **Affinity rule violations** - –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª affinity
- **Scheduling failures** - —Å–±–æ–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **Node utilization balance** - –±–∞–ª–∞–Ω—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–∑–ª–æ–≤

### **Troubleshooting:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å pending pods —Å affinity
kubectl get pods --field-selector=status.phase=Pending -o json | jq '.items[] | select(.spec.affinity != null)'

# –ê–Ω–∞–ª–∏–∑ —Å–æ–±—ã—Ç–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
kubectl get events --field-selector reason=FailedScheduling | grep affinity

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º
kubectl get pods -o wide | awk '{print $7}' | sort | uniq -c
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Affinity –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –∏ –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!**

# 93. Taints –∏ Tolerations

## üéØ **Taints –∏ Tolerations**

**Taints –∏ Tolerations** –≤ Kubernetes - —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–ª–∞–º –æ—Ç—Ç–∞–ª–∫–∏–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ Pod'—ã (Taints) –∏ Pod'–∞–º –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å —ç—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Tolerations), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–µ–º, –∫–∞–∫–∏–µ workloads –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω—ã –Ω–∞ –∫–∞–∫–∏—Ö —É–∑–ª–∞—Ö.

## üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Taints –∏ Tolerations:**

### **1. Taints (–ú–µ—Ç–∫–∏-–æ—Ç—Ç–∞–ª–∫–∏–≤–∞—Ç–µ–ª–∏):**
- **NoSchedule** - –Ω–æ–≤—ã–µ Pod'—ã –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è
- **PreferNoSchedule** - –∏–∑–±–µ–≥–∞—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–º—è–≥–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
- **NoExecute** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Pod'—ã –≤—ã—Å–µ–ª—è—é—Ç—Å—è
- **Key=Value:Effect** - —Ñ–æ—Ä–º–∞—Ç taint

### **2. Tolerations (–¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç–∏):**
- **Equal** - —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
- **Exists** - —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞
- **TolerationSeconds** - –≤—Ä–µ–º—è –¥–æ –≤—ã—Å–µ–ª–µ–Ω–∏—è
- **Operator** - –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è


## üìã **Taint Effects –∏ Use Cases:**

### **Taint Effects:**

| **Effect** | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** | **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Pod'—ã** | **Use Case** |
|------------|---------------|------------------------|--------------|
| **NoSchedule** | –ù–æ–≤—ã–µ Pod'—ã –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è | –û—Å—Ç–∞—é—Ç—Å—è | Dedicated nodes |
| **PreferNoSchedule** | –ò–∑–±–µ–≥–∞—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –û—Å—Ç–∞—é—Ç—Å—è | Soft restrictions |
| **NoExecute** | –í—ã—Å–µ–ª–µ–Ω–∏–µ Pod'–æ–≤ | –í—ã—Å–µ–ª—è—é—Ç—Å—è | Node maintenance |

### **Toleration Operators:**

| **Operator** | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** | **–ü—Ä–∏–º–µ—Ä** | **Use Case** |
|--------------|---------------|------------|------------|
| **Equal** | –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ | `key=value` | Specific workloads |
| **Exists** | –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ | `key` exists | Wildcard tolerations |


# 94. Cordon –∏ Drain Nodes

## üéØ **Cordon –∏ Drain Nodes**

**Cordon –∏ Drain** - —ç—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–∑–ª–∞–º–∏ –≤ Kubernetes –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —É–∑–ª–æ–≤ –∏–∑ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏. **Cordon** –ø–æ–º–µ—á–∞–µ—Ç —É–∑–µ–ª –∫–∞–∫ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö Pod'–æ–≤, –∞ **Drain** –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã—Å–µ–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Pod'—ã —Å —É–∑–ª–∞ –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏–ª–∏ –∑–∞–º–µ–Ω—ã.

## üèóÔ∏è **–û–ø–µ—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–∑–ª–∞–º–∏:**

### **1. Cordon (–ò–∑–æ–ª—è—Ü–∏—è):**
- **kubectl cordon** - –ø–æ–º–µ—Ç–∏—Ç—å —É–∑–µ–ª –∫–∞–∫ unschedulable
- **Existing pods** - –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ —É–∑–ª–µ
- **New pods** - –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è –Ω–∞ —É–∑–µ–ª
- **Reversible** - –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —Å uncordon

### **2. Drain (–í—ã—Å–µ–ª–µ–Ω–∏–µ):**
- **kubectl drain** - –≤—ã—Å–µ–ª–∏—Ç—å Pod'—ã —Å —É–∑–ª–∞
- **Graceful termination** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- **PodDisruptionBudget** - —É—á–µ—Ç –±—é–¥–∂–µ—Ç–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
- **Force options** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏

### **Common Issues:**

| **–ü—Ä–æ–±–ª–µ–º–∞** | **–ü—Ä–∏—á–∏–Ω–∞** | **–†–µ—à–µ–Ω–∏–µ** |
|--------------|-------------|-------------|
| **Drain hangs** | PDB –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PDB, —É–≤–µ–ª–∏—á–∏—Ç—å timeout |
| **Pods stuck** | Finalizers | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ |
| **StatefulSet issues** | Ordered termination | –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| **DaemonSet pods** | –ù–µ –≤—ã—Å–µ–ª—è—é—Ç—Å—è | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å --ignore-daemonsets |

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤!**

