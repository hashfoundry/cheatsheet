# 000. ะะฐะบ ัััะตะบัะธะฒะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั kubectl

## ๐ฏ **ะะฐะบ ัััะตะบัะธะฒะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั kubectl**

**kubectl** - ะพัะฝะพะฒะฝะพะน ะธะฝััััะผะตะฝั ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั Kubernetes ะบะปะฐััะตัะพะผ. ะะฝะฐะฝะธะต ะฟัะพะดะฒะธะฝัััั ัะตัะฝะธะบ ะธ ะบะพะผะฐะฝะด ะทะฝะฐัะธัะตะปัะฝะพ ะฟะพะฒััะฐะตั ะฟัะพะดัะบัะธะฒะฝะพััั ัะฐะฑะพัั.

## ๐๏ธ **ะัะฝะพะฒะฝัะต ะบะฐัะตะณะพัะธะธ ะบะพะผะฐะฝะด:**

### **1. Resource Management:**
- **get** - ะฟะพะปััะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ัะตััััะฐั
- **describe** - ะดะตัะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั
- **create/apply** - ัะพะทะดะฐะฝะธะต ัะตััััะพะฒ
- **delete** - ัะดะฐะปะตะฝะธะต ัะตััััะพะฒ

### **2. Debugging & Troubleshooting:**
- **logs** - ะฟัะพัะผะพัั ะปะพะณะพะฒ
- **exec** - ะฒัะฟะพะปะฝะตะฝะธะต ะบะพะผะฐะฝะด ะฒ ะบะพะฝัะตะนะฝะตัะฐั
- **port-forward** - ะฟัะพะฑัะพั ะฟะพััะพะฒ
- **top** - ะผะพะฝะธัะพัะธะฝะณ ัะตััััะพะฒ

### **3. Advanced Operations:**
- **patch** - ัะฐััะธัะฝะพะต ะพะฑะฝะพะฒะปะตะฝะธะต
- **scale** - ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
- **rollout** - ัะฟัะฐะฒะปะตะฝะธะต ัะฐะทะฒะตัััะฒะฐะฝะธัะผะธ


![alt text](image.png)


01-ะัะฝะพะฒั Kubernetes ัะดะตะปะฐัั ัััะปะบั 

# 3. ะะฐะบะพะฒั ะพัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั ะฐััะธัะตะบัััั Kubernetes?

## ๐๏ธ **ะััะธัะตะบัััะฐ Kubernetes**

Kubernetes ัะพััะพะธั ะธะท **Control Plane** (ะฟะปะพัะบะพััั ัะฟัะฐะฒะปะตะฝะธั) ะธ **Worker Nodes** (ัะฐะฑะพัะธะต ัะทะปั).

## โ๏ธ **Control Plane (ะะปะพัะบะพััั ัะฟัะฐะฒะปะตะฝะธั)**

### **1. API Server (kube-apiserver)**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะฆะตะฝััะฐะปัะฝะฐั ัะพัะบะฐ ัะฟัะฐะฒะปะตะฝะธั ะบะปะฐััะตัะพะผ
- **ะคัะฝะบัะธะธ**: ะะฑัะฐะฑะฐััะฒะฐะตั REST API ะทะฐะฟัะพัั, ะฐััะตะฝัะธัะธะบะฐัะธั, ะฐะฒัะพัะธะทะฐัะธั

### **2. etcd**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะฐัะฟัะตะดะตะปะตะฝะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั ะบะปัั-ะทะฝะฐัะตะฝะธะต
- **ะคัะฝะบัะธะธ**: ะฅัะฐะฝะธั ะฒัั ะบะพะฝัะธะณััะฐัะธั ะธ ัะพััะพัะฝะธะต ะบะปะฐััะตัะฐ

### **3. Controller Manager (kube-controller-manager)**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะฐะฟััะบะฐะตั ะบะพะฝััะพะปะปะตัั
- **ะคัะฝะบัะธะธ**: ะกะปะตะดะธั ะทะฐ ัะพััะพัะฝะธะตะผ ัะตััััะพะฒ ะธ ะฟัะธะฒะพะดะธั ะธั ะบ ะถะตะปะฐะตะผะพะผั ัะพััะพัะฝะธั

### **4. Scheduler (kube-scheduler)**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะปะฐะฝะธัะพะฒัะธะบ ะฟะพะดะพะฒ
- **ะคัะฝะบัะธะธ**: ะะตัะฐะตั, ะฝะฐ ะบะฐะบะพะน ะฝะพะดะต ะทะฐะฟัััะธัั ะฟะพะด

## ๐ง **Worker Nodes (ะะฐะฑะพัะธะต ัะทะปั)**

### **1. kubelet**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะณะตะฝั ะฝะฐ ะบะฐะถะดะพะน ะฝะพะดะต
- **ะคัะฝะบัะธะธ**: ะฃะฟัะฐะฒะปัะตั ะฟะพะดะฐะผะธ ะธ ะบะพะฝัะตะนะฝะตัะฐะผะธ ะฝะฐ ะฝะพะดะต

### **2. kube-proxy**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะกะตัะตะฒะพะน ะฟัะพะบัะธ
- **ะคัะฝะบัะธะธ**: ะะฑะตัะฟะตัะธะฒะฐะตั ัะตัะตะฒัั ัะฒัะทะฝะพััั ะธ ะฑะฐะปะฐะฝัะธัะพะฒะบั ะฝะฐะณััะทะบะธ

### **3. Container Runtime**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะกัะตะดะฐ ะฒัะฟะพะปะฝะตะฝะธั ะบะพะฝัะตะนะฝะตัะพะฒ
- **ะคัะฝะบัะธะธ**: ะะฐะฟััะบะฐะตั ะธ ัะฟัะฐะฒะปัะตั ะบะพะฝัะตะนะฝะตัะฐะผะธ (Docker, containerd, CRI-O)

# 4. ะงัะพ ัะฐะบะพะต Pod ะฒ Kubernetes?

## ๐ฏ **ะงัะพ ัะฐะบะพะต Pod?**

**Pod** โ ััะพ ะฝะฐะธะผะตะฝััะฐั ัะฐะทะฒะตัััะฒะฐะตะผะฐั ะตะดะธะฝะธัะฐ ะฒ Kubernetes, ะบะพัะพัะฐั ัะพะดะตัะถะธั ะพะดะธะฝ ะธะปะธ ะฝะตัะบะพะปัะบะพ ัะตัะฝะพ ัะฒัะทะฐะฝะฝัั ะบะพะฝัะตะนะฝะตัะพะฒ, ัะฐะทะดะตะปัััะธั ัะตัั ะธ ััะฐะฝะธะปะธัะต.

## ๐๏ธ **ะะปััะตะฒัะต ัะฐัะฐะบัะตัะธััะธะบะธ Pod:**

### **1. ะัะพะผะฐัะฝะฐั ะตะดะธะฝะธัะฐ**
- Pod ัะพะทะดะฐะตััั ะธ ัะดะฐะปัะตััั ะบะฐะบ ะตะดะธะฝะพะต ัะตะปะพะต
- ะัะต ะบะพะฝัะตะนะฝะตัั ะฒ Pod ะทะฐะฟััะบะฐัััั ะฝะฐ ะพะดะฝะพะน ะฝะพะดะต
- Pod ะธะผะตะตั ัะฝะธะบะฐะปัะฝัะน IP ะฐะดัะตั ะฒ ะบะปะฐััะตัะต

### **2. ะะฐะทะดะตะปัะตะผัะต ัะตััััั**
- **ะกะตัั**: ะัะต ะบะพะฝัะตะนะฝะตัั ะธัะฟะพะปัะทััั ะพะดะธะฝ IP ะธ ะฟะพััั
- **ะฅัะฐะฝะธะปะธัะต**: Volumes ะผะพะฝัะธัััััั ะฒะพ ะฒัะต ะบะพะฝัะตะนะฝะตัั
- **ะะธะทะฝะตะฝะฝัะน ัะธะบะป**: ะะพะฝัะตะนะฝะตัั ะถะธะฒัั ะธ ัะผะธัะฐัั ะฒะผะตััะต

### **3. ะญัะตะผะตัะฝะพััั**
- Pod ะผะพะถะตั ะฑััั ะฟะตัะตัะพะทะดะฐะฝ ะฒ ะปัะฑะพะน ะผะพะผะตะฝั
- IP ะฐะดัะตั ะผะพะถะตั ะธะทะผะตะฝะธัััั ะฟัะธ ะฟะตัะตัะพะทะดะฐะฝะธะธ
- ะะฐะฝะฝัะต ะฒะฝัััะธ Pod ัะตัััััั (ะตัะปะธ ะฝะตั Persistent Volumes)

# 8. ะงัะพ ัะฐะบะพะต Labels ะธ Selectors ะฒ Kubernetes?

## ๐ฏ **ะงัะพ ัะฐะบะพะต Labels?**

**Labels (ะะตัะบะธ)** โ ััะพ ะฟะฐัั ะบะปัั-ะทะฝะฐัะตะฝะธะต, ะฟัะธะบัะตะฟะปะตะฝะฝัะต ะบ Kubernetes ะพะฑัะตะบัะฐะผ ะดะปั ะธั ะธะดะตะฝัะธัะธะบะฐัะธะธ ะธ ะณััะฟะฟะธัะพะฒะบะธ.

### **ะฅะฐัะฐะบัะตัะธััะธะบะธ Labels:**
- **ะัะพะธะทะฒะพะปัะฝัะต** ะฟะฐัั ะบะปัั-ะทะฝะฐัะตะฝะธะต
- **ะะต ัะฝะธะบะฐะปัะฝัะต** (ะผะฝะพะณะพ ะพะฑัะตะบัะพะฒ ะผะพะณัั ะธะผะตัั ะพะดะธะฝะฐะบะพะฒัะต labels)
- **ะัะฟะพะปัะทััััั ะดะปั ะพัะณะฐะฝะธะทะฐัะธะธ** ะธ ะฒัะฑะพัะฐ ะพะฑัะตะบัะพะฒ
- **ะะพะณัั ะธะทะผะตะฝััััั** ะฒะพ ะฒัะตะผั ะฒัะฟะพะปะฝะตะฝะธั

## ๐ฏ **ะงัะพ ัะฐะบะพะต Selectors?**

**Selectors (ะกะตะปะตะบัะพัั)** โ ััะพ ะทะฐะฟัะพัั ะดะปั ะฟะพะธัะบะฐ ะพะฑัะตะบัะพะฒ ะฟะพ ะธั labels.

### **ะขะธะฟั Selectors:**
- **Equality-based**: `app=nginx`, `version!=v1`
- **Set-based**: `environment in (production, qa)`, `tier notin (frontend)`

**Labels ะธ Selectors โ ััะพ ะพัะฝะพะฒะฐ ะพัะณะฐะฝะธะทะฐัะธะธ ะธ ัะฟัะฐะฒะปะตะฝะธั ัะตััััะฐะผะธ ะฒ Kubernetes!**

# 9. ะงัะพ ัะฐะบะพะต Namespace ะฒ Kubernetes?

## ๐ฏ **ะงัะพ ัะฐะบะพะต Namespace?**

**Namespace (ะัะพัััะฐะฝััะฒะพ ะธะผะตะฝ)** โ ััะพ ะฒะธัััะฐะปัะฝะพะต ัะฐะทะดะตะปะตะฝะธะต ะบะปะฐััะตัะฐ Kubernetes, ะบะพัะพัะพะต ะฟะพะทะฒะพะปัะตั ะธะทะพะปะธัะพะฒะฐัั ะณััะฟะฟั ัะตััััะพะฒ ะฒ ะพะดะฝะพะผ ัะธะทะธัะตัะบะพะผ ะบะปะฐััะตัะต.

## ๐๏ธ **ะะฐะทะฝะฐัะตะฝะธะต Namespace:**

### **1. ะะทะพะปััะธั ัะตััััะพะฒ**
- ะะพะณะธัะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต ะฟัะธะปะพะถะตะฝะธะน
- ะัะตะดะพัะฒัะฐัะตะฝะธะต ะบะพะฝัะปะธะบัะพะฒ ะธะผะตะฝ
- ะัะณะฐะฝะธะทะฐัะธั ะฟะพ ะบะพะผะฐะฝะดะฐะผ/ะฟัะพะตะบัะฐะผ

### **2. ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพัััะฟะพะผ**
- RBAC (Role-Based Access Control)
- ะะณัะฐะฝะธัะตะฝะธะต ะดะพัััะฟะฐ ะบ ัะตััััะฐะผ
- ะะตะทะพะฟะฐัะฝะพััั ะฝะฐ ััะพะฒะฝะต namespace

### **3. ะฃะฟัะฐะฒะปะตะฝะธะต ัะตััััะฐะผะธ**
- Resource Quotas (ะปะธะผะธัั ัะตััััะพะฒ)
- Limit Ranges (ะพะณัะฐะฝะธัะตะฝะธั ะดะปั ะพะฑัะตะบัะพะฒ)
- Network Policies (ัะตัะตะฒะฐั ะธะทะพะปััะธั)

# 10. ะ ัะตะผ ัะฐะทะฝะธัะฐ ะผะตะถะดั StatefulSet ะธ Deployment?

## ๐ฏ **ะัะฝะพะฒะฝัะต ัะฐะทะปะธัะธั:**

| ะัะฟะตะบั | Deployment | StatefulSet |
|--------|------------|-------------|
| **ะะฐะทะฝะฐัะตะฝะธะต** | Stateless ะฟัะธะปะพะถะตะฝะธั | Stateful ะฟัะธะปะพะถะตะฝะธั |
| **ะะดะตะฝัะธัะฝะพััั Pod'ะพะฒ** | ะะทะฐะธะผะพะทะฐะผะตะฝัะตะผัะต | ะฃะฝะธะบะฐะปัะฝะฐั ะธะดะตะฝัะธัะฝะพััั |
| **ะะผะตะฝะฐ Pod'ะพะฒ** | ะกะปััะฐะนะฝัะต ััััะธะบัั | ะะพััะดะบะพะฒัะต ะฝะพะผะตัะฐ |
| **ะะพััะดะพะบ ัะพะทะดะฐะฝะธั** | ะะฐัะฐะปะปะตะปัะฝะพะต | ะะพัะปะตะดะพะฒะฐัะตะปัะฝะพะต |
| **ะฅัะฐะฝะธะปะธัะต** | ะะฑัะธะต volumes | ะะฝะดะธะฒะธะดัะฐะปัะฝัะต PVC |
| **ะกะตัะตะฒะฐั ะธะดะตะฝัะธัะฝะพััั** | ะะตั | ะกัะฐะฑะธะปัะฝะฐั |
| **ะะฑะฝะพะฒะปะตะฝะธั** | Rolling update | ะฃะฟะพััะดะพัะตะฝะฝะพะต ะพะฑะฝะพะฒะปะตะฝะธะต |

## ๐ฆ **Deployment (ะะฐะทะฒะตัััะฒะฐะฝะธะต)**

**Deployment** โ ััะพ ัะตัััั ะดะปั ัะฟัะฐะฒะปะตะฝะธั stateless ะฟัะธะปะพะถะตะฝะธัะผะธ, ะณะดะต ะฒัะต Pod'ั ะฒะทะฐะธะผะพะทะฐะผะตะฝัะตะผั.

### **ะฅะฐัะฐะบัะตัะธััะธะบะธ Deployment:**
- Pod'ั **ะธะดะตะฝัะธัะฝั** ะธ **ะฒะทะฐะธะผะพะทะฐะผะตะฝัะตะผั**
- **ะกะปััะฐะนะฝัะต ะธะผะตะฝะฐ** Pod'ะพะฒ
- **ะะฐัะฐะปะปะตะปัะฝะพะต** ัะพะทะดะฐะฝะธะต ะธ ัะดะฐะปะตะฝะธะต
- **ะะฑัะธะต volumes** (ะตัะปะธ ะฝัะถะฝั)
- ะะพะดัะพะดะธั ะดะปั **web ัะตัะฒะตัะพะฒ**, **API**, **ะผะธะบัะพัะตัะฒะธัะพะฒ**

## ๐๏ธ **StatefulSet (ะกะพััะพัะฝะธะต)**

**StatefulSet** โ ััะพ ัะตัััั ะดะปั ัะฟัะฐะฒะปะตะฝะธั stateful ะฟัะธะปะพะถะตะฝะธัะผะธ, ะณะดะต ะบะฐะถะดัะน Pod ะธะผะตะตั ัะฝะธะบะฐะปัะฝัั ะธะดะตะฝัะธัะฝะพััั.

### **ะฅะฐัะฐะบัะตัะธััะธะบะธ StatefulSet:**
- Pod'ั ะธะผะตัั **ัะฝะธะบะฐะปัะฝัั ะธะดะตะฝัะธัะฝะพััั**
- **ะัะตะดัะบะฐะทัะตะผัะต ะธะผะตะฝะฐ** Pod'ะพะฒ (app-0, app-1, app-2)
- **ะะพัะปะตะดะพะฒะฐัะตะปัะฝะพะต** ัะพะทะดะฐะฝะธะต ะธ ัะดะฐะปะตะฝะธะต
- **ะะฝะดะธะฒะธะดัะฐะปัะฝัะต PVC** ะดะปั ะบะฐะถะดะพะณะพ Pod'ะฐ
- ะะพะดัะพะดะธั ะดะปั **ะฑะฐะท ะดะฐะฝะฝัั**, **ะพัะตัะตะดะตะน**, **ะบะปะฐััะตัะฝัั ะฟัะธะปะพะถะตะฝะธะน**

02-ะััะธัะตะบัััะฐ ะธ ะบะพะผะฟะพะฝะตะฝัั ะบะปะฐััะตัะฐ 


# 11. ะะฑัััะฝะธัะต ัะพะปั kube-apiserver ะฟะพะดัะพะฑะฝะพ

## ๐ฏ **ะงัะพ ัะฐะบะพะต kube-apiserver?**

**kube-apiserver** โ ััะพ ัะตะฝััะฐะปัะฝัะน ะบะพะผะฟะพะฝะตะฝั Control Plane, ะบะพัะพััะน ะฟัะตะดะพััะฐะฒะปัะตั REST API ะดะปั ะฒัะตั ะพะฟะตัะฐัะธะน ะฒ Kubernetes ะบะปะฐััะตัะต. ะญัะพ ะตะดะธะฝััะฒะตะฝะฝัะน ะบะพะผะฟะพะฝะตะฝั, ะบะพัะพััะน ะฝะฐะฟััะผัั ะฒะทะฐะธะผะพะดะตะนััะฒัะตั ั etcd.

## ๐๏ธ **ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ kube-apiserver:**

### **1. REST API Gateway**
- ะัะตะดะพััะฐะฒะปัะตั ะตะดะธะฝัะน REST API ะดะปั ะฒัะตั ะพะฟะตัะฐัะธะน
- ะะฑัะฐะฑะฐััะฒะฐะตั HTTP/HTTPS ะทะฐะฟัะพัั
- ะะพะดะดะตัะถะธะฒะฐะตั ัะฐะทะปะธัะฝัะต ัะพัะผะฐัั (JSON, YAML, Protobuf)

### **2. ะััะตะฝัะธัะธะบะฐัะธั ะธ ะฐะฒัะพัะธะทะฐัะธั**
- ะัะพะฒะตััะตั ะฟะพะดะปะธะฝะฝะพััั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะธ ัะตัะฒะธัะพะฒ
- ะัะธะผะตะฝัะตั RBAC ะฟะพะปะธัะธะบะธ
- ะะพะฝััะพะปะธััะตั ะดะพัััะฟ ะบ ัะตััััะฐะผ

### **3. ะะฐะปะธะดะฐัะธั ะธ ะผััะฐัะธั**
- ะัะพะฒะตััะตั ะบะพััะตะบัะฝะพััั ะทะฐะฟัะพัะพะฒ
- ะัะธะผะตะฝัะตั Admission Controllers
- ะะพะดะธัะธัะธััะตั ะพะฑัะตะบัั ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ

### **4. ะฅัะฐะฝะตะฝะธะต ัะพััะพัะฝะธั**
- ะะดะธะฝััะฒะตะฝะฝัะน ะบะพะผะฟะพะฝะตะฝั, ัะฐะฑะพัะฐััะธะน ั etcd
- ะะฑะตัะฟะตัะธะฒะฐะตั ะบะพะฝัะธััะตะฝัะฝะพััั ะดะฐะฝะฝัั
- ะฃะฟัะฐะฒะปัะตั ะฒะตััะธะพะฝะธัะพะฒะฐะฝะธะตะผ ะพะฑัะตะบัะพะฒ


# 12. ะงัะพ ัะฐะบะพะต etcd ะธ ะฟะพัะตะผั ะพะฝ ะบัะธัะธัะตะฝ ะดะปั Kubernetes?

## ๐ฏ **ะงัะพ ัะฐะบะพะต etcd?**

**etcd** โ ััะพ ัะฐัะฟัะตะดะตะปะตะฝะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั ะบะปัั-ะทะฝะฐัะตะฝะธะต, ะบะพัะพัะฐั ัะปัะถะธั ะตะดะธะฝััะฒะตะฝะฝัะผ ะธััะพัะฝะธะบะพะผ ะธััะธะฝั ะดะปั ะฒัะตะณะพ ัะพััะพัะฝะธั Kubernetes ะบะปะฐััะตัะฐ. ะญัะพ ะฒััะพะบะพะดะพัััะฟะฝะพะต ััะฐะฝะธะปะธัะต, ะธัะฟะพะปัะทัััะตะต ะฐะปะณะพัะธัะผ ะบะพะฝัะตะฝัััะฐ Raft.

## ๐๏ธ **ะะพัะตะผั etcd ะบัะธัะธัะตะฝ ะดะปั Kubernetes:**

### **1. ะะดะธะฝััะฒะตะฝะฝัะน ะธััะพัะฝะธะบ ะธััะธะฝั**
- ะฅัะฐะฝะธั ะะกะ ะดะฐะฝะฝัะต ะบะปะฐััะตัะฐ
- ะะพะฝัะธะณััะฐัะธั ะฒัะตั ะพะฑัะตะบัะพะฒ
- ะกะพััะพัะฝะธะต ะฒัะตั ัะตััััะพะฒ
- ะะตัะฐะดะฐะฝะฝัะต ะธ ัะฟะตัะธัะธะบะฐัะธะธ

### **2. ะะพะฝัะธััะตะฝัะฝะพััั ะดะฐะฝะฝัั**
- ACID ััะฐะฝะทะฐะบัะธะธ
- Strong consistency
- ะะปะณะพัะธัะผ ะบะพะฝัะตะฝัััะฐ Raft
- ะะฐัะธัะฐ ะพั split-brain

### **3. High Availability**
- ะะปะฐััะตัะฝะฐั ะฐััะธัะตะบัััะฐ (ะพะฑััะฝะพ 3-5 ะฝะพะด)
- ะะฒัะพะผะฐัะธัะตัะบะธะน failover
- ะะตะฟะปะธะบะฐัะธั ะดะฐะฝะฝัั
- ะฃััะพะนัะธะฒะพััั ะบ ัะฑะพัะผ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Digital Ocean Cloud                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  etcd Cluster (Managed HA)                                 โ
โ  โโโ etcd-1 (Zone A) - Leader/Follower                     โ
โ  โโโ etcd-2 (Zone B) - Leader/Follower                     โ
โ  โโโ etcd-3 (Zone C) - Leader/Follower                     โ
โ                                                             โ
โ  Raft Consensus Algorithm                                   โ
โ  โโโ Leader Election                                        โ
โ  โโโ Log Replication                                        โ
โ  โโโ Strong Consistency                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  API Server Cluster (HA)                                   โ
โ  โโโ API Server 1 โ etcd Client                            โ
โ  โโโ API Server 2 โ etcd Client                            โ
โ  โโโ API Server 3 โ etcd Client                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Stored Data in etcd                                       โ
โ  โโโ All Kubernetes Objects                                โ
โ  โ   โโโ Pods, Deployments, Services                       โ
โ  โ   โโโ ConfigMaps, Secrets                               โ
โ  โ   โโโ RBAC, CRDs                                        โ
โ  โโโ Cluster State                                         โ
โ  โ   โโโ Node Information                                  โ
โ  โ   โโโ Resource Quotas                                   โ
โ  โ   โโโ Events (TTL)                                      โ
โ  โโโ Application Data                                       โ
โ      โโโ ArgoCD Applications                               โ
โ      โโโ Prometheus Configuration                          โ
โ      โโโ Ingress Rules                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**etcd โ ััะพ ััะฝะดะฐะผะตะฝั Kubernetes. ะะตะท etcd ะฝะตั ะบะปะฐััะตัะฐ!**

# 13. ะะฐะบ ัะฐะฑะพัะฐะตั Kubernetes Scheduler?

## ๐ฏ **ะงัะพ ัะฐะบะพะต Kubernetes Scheduler?**

**kube-scheduler** โ ััะพ ะบะพะผะฟะพะฝะตะฝั Control Plane, ะบะพัะพััะน ะพัะฒะตัะฐะตั ะทะฐ ัะฐะทะผะตัะตะฝะธะต Pod'ะพะฒ ะฝะฐ ะฟะพะดัะพะดััะธั Node'ะฐั ะฒ ะบะปะฐััะตัะต. ะะฝ ะฟัะธะฝะธะผะฐะตั ัะตัะตะฝะธั ะพ ัะพะผ, ะณะดะต ะทะฐะฟัััะธัั ะบะฐะถะดัะน Pod, ะพัะฝะพะฒัะฒะฐััั ะฝะฐ ัะตััััะฐั, ะพะณัะฐะฝะธัะตะฝะธัั ะธ ะฟะพะปะธัะธะบะฐั.

## ๐๏ธ **ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ Scheduler:**

### **1. ะะปะฐะฝะธัะพะฒะฐะฝะธะต Pod'ะพะฒ**
- ะัะฑะธัะฐะตั ะพะฟัะธะผะฐะปัะฝัั Node ะดะปั ะบะฐะถะดะพะณะพ Pod'ะฐ
- ะฃัะธััะฒะฐะตั ัะตััััั (CPU, ะฟะฐะผััั, ะดะธัะบ)
- ะัะธะผะตะฝัะตั ะพะณัะฐะฝะธัะตะฝะธั ะธ ะฟัะตะดะฟะพััะตะฝะธั
- ะะฐะปะฐะฝัะธััะตั ะฝะฐะณััะทะบั ะฟะพ ะบะปะฐััะตัั

### **2. ะคะธะปัััะฐัะธั Node'ะพะฒ**
- ะัะบะปััะฐะตั ะฝะตะฟะพะดัะพะดััะธะต Node'ั
- ะัะพะฒะตััะตั ะดะพัััะฟะฝะพััั ัะตััััะพะฒ
- ะฃัะธััะฒะฐะตั taints ะธ tolerations
- ะัะธะผะตะฝัะตั node selectors

### **3. ะะฐะฝะถะธัะพะฒะฐะฝะธะต Node'ะพะฒ**
- ะัะตะฝะธะฒะฐะตั ะฟะพะดัะพะดััะธะต Node'ั
- ะัะฑะธัะฐะตั ะฝะฐะธะปัััะธะน ะฒะฐัะธะฐะฝั
- ะะฟัะธะผะธะทะธััะตั ัะฐัะฟัะตะดะตะปะตะฝะธะต
- ะะธะฝะธะผะธะทะธััะตั ััะฐะณะผะตะฝัะฐัะธั ัะตััััะพะฒ


# 14. ะะฐะบะพะฒะฐ ัะพะปั kubelet?

## ๐ฏ **ะงัะพ ัะฐะบะพะต kubelet?**

**kubelet** โ ััะพ ะพัะฝะพะฒะฝะพะน ะฐะณะตะฝั Node, ะบะพัะพััะน ัะฐะฑะพัะฐะตั ะฝะฐ ะบะฐะถะดะพะน Node ะธ ะพัะฒะตัะฐะตั ะทะฐ ัะฟัะฐะฒะปะตะฝะธะต Pod'ะฐะผะธ ะธ ะบะพะฝัะตะนะฝะตัะฐะผะธ ะฝะฐ ััะพะน Node. ะญัะพ ัะฒัะทัััะตะต ะทะฒะตะฝะพ ะผะตะถะดั Control Plane ะธ ัะฐะฑะพัะธะผะธ Node'ะฐะผะธ.

## ๐๏ธ **ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ kubelet:**

### **1. ะฃะฟัะฐะฒะปะตะฝะธะต Pod'ะฐะผะธ**
- ะะพะปััะฐะตั Pod ัะฟะตัะธัะธะบะฐัะธะธ ะพั API Server
- ะะฐะฟััะบะฐะตั ะธ ะพััะฐะฝะฐะฒะปะธะฒะฐะตั ะบะพะฝัะตะนะฝะตัั
- ะะพะฝะธัะพัะธั ัะพััะพัะฝะธะต Pod'ะพะฒ
- ะัะฟัะฐะฒะปัะตั ััะฐััั ะพะฑัะฐัะฝะพ ะฒ API Server

### **2. ะะทะฐะธะผะพะดะตะนััะฒะธะต ั Container Runtime**
- ะัะฟะพะปัะทัะตั CRI (Container Runtime Interface)
- ะฃะฟัะฐะฒะปัะตั ะถะธะทะฝะตะฝะฝัะผ ัะธะบะปะพะผ ะบะพะฝัะตะนะฝะตัะพะฒ
- ะะฑัะฐะฑะฐััะฒะฐะตั ะพะฑัะฐะทั ะบะพะฝัะตะนะฝะตัะพะฒ
- ะะฐัััะฐะธะฒะฐะตั ัะตัั ะธ ััะฐะฝะธะปะธัะต

### **3. Health Checks**
- ะัะฟะพะปะฝัะตั liveness probes
- ะัะฟะพะปะฝัะตั readiness probes
- ะัะฟะพะปะฝัะตั startup probes
- ะะตัะตะทะฐะฟััะบะฐะตั ะฝะตะธัะฟัะฐะฒะฝัะต ะบะพะฝัะตะนะฝะตัั

### **4. ะะตััััั ะธ ะผะพะฝะธัะพัะธะฝะณ**
- ะกะพะฑะธัะฐะตั ะผะตััะธะบะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะตััััะพะฒ
- ะฃะฟัะฐะฒะปัะตั cgroups
- ะะพะฝััะพะปะธััะตั ะปะธะผะธัั ัะตััััะพะฒ
- ะัะฟัะฐะฒะปัะตั ะผะตััะธะบะธ ะฒ metrics-server


# 15. ะงัะพ ะดะตะปะฐะตั kube-proxy?

## ๐ฏ **ะงัะพ ัะฐะบะพะต kube-proxy?**

**kube-proxy** โ ััะพ ัะตัะตะฒะพะน ะบะพะผะฟะพะฝะตะฝั, ะบะพัะพััะน ัะฐะฑะพัะฐะตั ะฝะฐ ะบะฐะถะดะพะน Node ะธ ะพัะฒะตัะฐะตั ะทะฐ ัะตะฐะปะธะทะฐัะธั ัะตัะตะฒัั ะฟัะฐะฒะธะป ะดะปั Service'ะพะฒ. ะะฝ ะพะฑะตัะฟะตัะธะฒะฐะตั ัะตัะตะฒัั ัะฒัะทะฝะพััั ะธ load balancing ะดะปั Pod'ะพะฒ.

## ๐๏ธ **ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ kube-proxy:**

### **1. Service Discovery**
- ะััะปะตะถะธะฒะฐะตั Service'ั ะธ Endpoints
- ะะฑะฝะพะฒะปัะตั ัะตัะตะฒัะต ะฟัะฐะฒะธะปะฐ ะฟัะธ ะธะทะผะตะฝะตะฝะธัั
- ะะฑะตัะฟะตัะธะฒะฐะตั ะดะพัััะฟะฝะพััั Service'ะพะฒ

### **2. Load Balancing**
- ะะฐัะฟัะตะดะตะปัะตั ััะฐัะธะบ ะผะตะถะดั Pod'ะฐะผะธ
- ะะพะดะดะตัะถะธะฒะฐะตั ัะฐะทะปะธัะฝัะต ะฐะปะณะพัะธัะผั ะฑะฐะปะฐะฝัะธัะพะฒะบะธ
- ะะฑัะฐะฑะฐััะฒะฐะตั session affinity

### **3. Network Proxy**
- ะะตัะตะฝะฐะฟัะฐะฒะปัะตั ััะฐัะธะบ ะบ ะฟัะฐะฒะธะปัะฝัะผ Pod'ะฐะผ
- ะะตะฐะปะธะทัะตั ClusterIP, NodePort, LoadBalancer
- ะะฑัะฐะฑะฐััะฒะฐะตั ะฒะฝะตัะฝะธะน ััะฐัะธะบ


```

## ๐ฏ **ะััะธัะตะบัััะฐ kube-proxy:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    kube-proxy                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Service Watcher                                            โ
โ  โโโ Watch Services from API Server                        โ
โ  โโโ Watch Endpoints from API Server                       โ
โ  โโโ Detect changes in real-time                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Proxy Mode                                                 โ
โ  โโโ iptables mode (default)                               โ
โ  โ   โโโ Create iptables rules                             โ
โ  โ   โโโ DNAT for ClusterIP                               โ
โ  โ   โโโ Random load balancing                             โ
โ  โโโ IPVS mode                                             โ
โ  โ   โโโ Create IPVS rules                                 โ
โ  โ   โโโ Multiple LB algorithms                            โ
โ  โ   โโโ Better performance                                โ
โ  โโโ userspace mode (deprecated)                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Network Programming                                        โ
โ  โโโ ClusterIP implementation                              โ
โ  โโโ NodePort implementation                               โ
โ  โโโ LoadBalancer integration                              โ
โ  โโโ Session affinity handling                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Health Checking                                            โ
โ  โโโ Monitor backend Pod health                            โ
โ  โโโ Remove unhealthy endpoints                            โ
โ  โโโ Update proxy rules                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ง **ะะพะฝัะธะณััะฐัะธั kube-proxy:**

### **1. ConfigMap:**
```bash
# ะะพะฝัะธะณััะฐัะธั kube-proxy
kubectl get configmap kube-proxy -n kube-system -o yaml

# ะัะฝะพะฒะฝัะต ะฟะฐัะฐะผะตััั:
# - mode: iptables/ipvs/userspace
# - clusterCIDR: ะดะธะฐะฟะฐะทะพะฝ IP Pod'ะพะฒ
# - bindAddress: ะฐะดัะตั ะดะปั ะฟัะธะฒัะทะบะธ
```

### **2. ะะฐัััะพะนะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ:**
```bash
# iptables mode ะฝะฐัััะพะนะบะธ
# - masqueradeAll: ะผะฐัะบะธัะพะฒะฐัั ะฒะตัั ััะฐัะธะบ
# - syncPeriod: ะฟะตัะธะพะด ัะธะฝััะพะฝะธะทะฐัะธะธ ะฟัะฐะฒะธะป

# IPVS mode ะฝะฐัััะพะนะบะธ
# - scheduler: ะฐะปะณะพัะธัะผ ะฑะฐะปะฐะฝัะธัะพะฒะบะธ (rr, lc, sh)
# - strictARP: ัััะพะณะธะน ARP ัะตะถะธะผ
```

## ๐ฏ **Best Practices ะดะปั kube-proxy:**

### **1. ะะพะฝะธัะพัะธะฝะณ:**
- ะกะปะตะดะธัะต ะทะฐ ะผะตััะธะบะฐะผะธ kube-proxy
- ะะพะฝะธัะพัััะต ะฒัะตะผั ัะธะฝััะพะฝะธะทะฐัะธะธ ะฟัะฐะฒะธะป
- ะัะพะฒะตััะนัะต ะดะพัััะฟะฝะพััั Service'ะพะฒ

### **2. ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั:**
- ะัะฟะพะปัะทัะนัะต IPVS ะดะปั ะฑะพะปััะธั ะบะปะฐััะตัะพะฒ
- ะะฟัะธะผะธะทะธััะนัะต ะบะพะปะธัะตััะฒะพ Service'ะพะฒ
- ะะพะฝะธัะพัััะต ัะตัะตะฒัั ะฝะฐะณััะทะบั

### **3. ะัะปะฐะดะบะฐ:**
- ะัะพะฒะตััะนัะต Endpoints ะฟัะธ ะฟัะพะฑะปะตะผะฐั
- ะะฝะฐะปะธะทะธััะนัะต ะปะพะณะธ kube-proxy
- ะขะตััะธััะนัะต ัะตัะตะฒัั ัะฒัะทะฝะพััั

**kube-proxy โ ััะพ ัะตัะตะฒะพะน ะผะพัั, ะพะฑะตัะฟะตัะธะฒะฐััะธะน ะดะพัััะฟะฝะพััั Service'ะพะฒ ะฒ ะบะปะฐััะตัะต!**


# 16. ะะฑัััะฝะธัะต ะบะพะผะฟะพะฝะตะฝัั Controller Manager

## ๐ฏ **ะงัะพ ัะฐะบะพะต Controller Manager?**

**kube-controller-manager** โ ััะพ ะบะพะผะฟะพะฝะตะฝั Control Plane, ะบะพัะพััะน ะทะฐะฟััะบะฐะตั ัะฐะทะปะธัะฝัะต ะบะพะฝััะพะปะปะตัั ะดะปั ะฟะพะดะดะตัะถะฐะฝะธั ะถะตะปะฐะตะผะพะณะพ ัะพััะพัะฝะธั ะบะปะฐััะตัะฐ. ะะฐะถะดัะน ะบะพะฝััะพะปะปะตั ะพัะฒะตัะฐะตั ะทะฐ ะพะฟัะตะดะตะปะตะฝะฝัะน ัะธะฟ ัะตััััะพะฒ.

## ๐๏ธ **ะัะฝะพะฒะฝัะต ะบะพะฝััะพะปะปะตัั:**

### **1. Deployment Controller**
- ะฃะฟัะฐะฒะปัะตั ReplicaSets
- ะะฑะตัะฟะตัะธะฒะฐะตั rolling updates
- ะะพะดะดะตัะถะธะฒะฐะตั ะถะตะปะฐะตะผะพะต ะบะพะปะธัะตััะฒะพ ัะตะฟะปะธะบ

### **2. ReplicaSet Controller**
- ะะพะดะดะตัะถะธะฒะฐะตั ะบะพะปะธัะตััะฒะพ Pod'ะพะฒ
- ะกะพะทะดะฐะตั/ัะดะฐะปัะตั Pod'ั ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ
- ะะพะฝะธัะพัะธั ัะพััะพัะฝะธะต Pod'ะพะฒ

### **3. Node Controller**
- ะะพะฝะธัะพัะธั ัะพััะพัะฝะธะต Node'ะพะฒ
- ะะฑัะฐะฑะฐััะฒะฐะตั Node failures
- ะฃะฟัะฐะฒะปัะตั Node lifecycle

### **4. Service Controller**
- ะฃะฟัะฐะฒะปัะตั Endpoints
- ะะฑะฝะพะฒะปัะตั Service discovery
- ะะฝัะตะณัะธััะตััั ั cloud providers

### **5. Namespace Controller**
- ะฃะฟัะฐะฒะปัะตั ะถะธะทะฝะตะฝะฝัะผ ัะธะบะปะพะผ Namespace'ะพะฒ
- ะัะธัะฐะตั ัะตััััั ะฟัะธ ัะดะฐะปะตะฝะธะธ Namespace


